"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/matches";
exports.ids = ["pages/api/matches"];
exports.modules = {

/***/ "@next-auth/prisma-adapter":
/*!********************************************!*\
  !*** external "@next-auth/prisma-adapter" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/prisma-adapter");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/github":
/*!*********************************************!*\
  !*** external "next-auth/providers/github" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/github");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/matches.ts */ \"(api)/./pages/api/matches.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/matches\",\n        pathname: \"/api/matches\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_matches_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm1hdGNoZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRm1hdGNoZXMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDbUQ7QUFDbkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGtEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxrREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb290cmF0ZS8/MWU3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL21hdGNoZXMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9tYXRjaGVzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWF0Y2hlc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/github */ \"next-auth/providers/github\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./prisma */ \"(api)/./lib/prisma.ts\");\n\n\n\n\n\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_4__.prisma),\n    providers: [\n        next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1___default()({\n            clientId: process.env.GITHUB_ID,\n            clientSecret: process.env.GITHUB_SECRET\n        }),\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default()({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Mot de passe\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const user = await _prisma__WEBPACK_IMPORTED_MODULE_4__.prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user || !user.password) {\n                    return null;\n                }\n                const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_3___default().compare(credentials.password, user.password);\n                if (!isPasswordValid) {\n                    return null;\n                }\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    username: user.username\n                };\n            }\n        })\n    ],\n    callbacks: {\n        session: async ({ session, token })=>{\n            if (session?.user) {\n                session.user.id = token.sub;\n            }\n            return session;\n        },\n        jwt: async ({ user, token })=>{\n            if (user) {\n                token.uid = user.id;\n            }\n            return token;\n        }\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ3lEO0FBQ0Y7QUFDVTtBQUNwQztBQUNJO0FBRTFCLE1BQU1LLGNBQStCO0lBQzFDQyxTQUFTTix3RUFBYUEsQ0FBQ0ksMkNBQU1BO0lBQzdCRyxXQUFXO1FBQ1ROLGlFQUFjQSxDQUFDO1lBQ2JPLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztZQUMvQkMsY0FBY0gsUUFBUUMsR0FBRyxDQUFDRyxhQUFhO1FBQ3pDO1FBQ0FYLHNFQUFtQkEsQ0FBQztZQUNsQlksTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBZ0JDLE1BQU07Z0JBQVc7WUFDdEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJLENBQUNBLGFBQWFDLFNBQVMsQ0FBQ0QsYUFBYUksVUFBVTtvQkFDakQsT0FBTztnQkFDVDtnQkFFQSxNQUFNRSxPQUFPLE1BQU1qQiwyQ0FBTUEsQ0FBQ2lCLElBQUksQ0FBQ0MsVUFBVSxDQUFDO29CQUN4Q0MsT0FBTzt3QkFDTFAsT0FBT0QsWUFBWUMsS0FBSztvQkFDMUI7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDSyxRQUFRLENBQUNBLEtBQUtGLFFBQVEsRUFBRTtvQkFDM0IsT0FBTztnQkFDVDtnQkFFQSxNQUFNSyxrQkFBa0IsTUFBTXJCLHVEQUFjLENBQzFDWSxZQUFZSSxRQUFRLEVBQ3BCRSxLQUFLRixRQUFRO2dCQUdmLElBQUksQ0FBQ0ssaUJBQWlCO29CQUNwQixPQUFPO2dCQUNUO2dCQUVBLE9BQU87b0JBQ0xFLElBQUlMLEtBQUtLLEVBQUU7b0JBQ1hWLE9BQU9LLEtBQUtMLEtBQUs7b0JBQ2pCRixNQUFNTyxLQUFLUCxJQUFJO29CQUNmYSxVQUFVTixLQUFLTSxRQUFRO2dCQUN6QjtZQUNGO1FBQ0Y7S0FDRDtJQUNEQyxXQUFXO1FBQ1RDLFNBQVMsT0FBTyxFQUFFQSxPQUFPLEVBQUVDLEtBQUssRUFBRTtZQUNoQyxJQUFJRCxTQUFTUixNQUFNO2dCQUNqQlEsUUFBUVIsSUFBSSxDQUFDSyxFQUFFLEdBQUdJLE1BQU1DLEdBQUc7WUFDN0I7WUFDQSxPQUFPRjtRQUNUO1FBQ0FHLEtBQUssT0FBTyxFQUFFWCxJQUFJLEVBQUVTLEtBQUssRUFBRTtZQUN6QixJQUFJVCxNQUFNO2dCQUNSUyxNQUFNRyxHQUFHLEdBQUdaLEtBQUtLLEVBQUU7WUFDckI7WUFDQSxPQUFPSTtRQUNUO0lBQ0Y7SUFDQUQsU0FBUztRQUNQSyxVQUFVO0lBQ1o7SUFDQUMsT0FBTztRQUNMQyxRQUFRO0lBQ1Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vdHJhdGUvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyXCJcbmltcG9ydCBHaXRodWJQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9naXRodWJcIlxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIlxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4vcHJpc21hXCJcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgR2l0aHViUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdJVEhVQl9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQhLFxuICAgIH0pLFxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogXCJjcmVkZW50aWFsc1wiLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6IFwiRW1haWxcIiwgdHlwZTogXCJlbWFpbFwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIk1vdCBkZSBwYXNzZVwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5wYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShcbiAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICB1c2VyLnBhc3N3b3JkXG4gICAgICAgIClcblxuICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIHNlc3Npb246IGFzeW5jICh7IHNlc3Npb24sIHRva2VuIH0pID0+IHtcbiAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLnN1YiFcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgfSxcbiAgICBqd3Q6IGFzeW5jICh7IHVzZXIsIHRva2VuIH0pID0+IHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVpZCA9IHVzZXIuaWRcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblxuICAgIH0sXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2F1dGgvc2lnbmluJyxcbiAgfSxcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwiR2l0aHViUHJvdmlkZXIiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiYmNyeXB0IiwicHJpc21hIiwiYXV0aE9wdGlvbnMiLCJhZGFwdGVyIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR0lUSFVCX0lEIiwiY2xpZW50U2VjcmV0IiwiR0lUSFVCX1NFQ1JFVCIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaXNQYXNzd29yZFZhbGlkIiwiY29tcGFyZSIsImlkIiwidXNlcm5hbWUiLCJjYWxsYmFja3MiLCJzZXNzaW9uIiwidG9rZW4iLCJzdWIiLCJqd3QiLCJ1aWQiLCJzdHJhdGVneSIsInBhZ2VzIiwic2lnbkluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/auth.ts\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb3RyYXRlLy4vbGliL3ByaXNtYS50cz85ODIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./pages/api/matches.ts":
/*!******************************!*\
  !*** ./pages/api/matches.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/auth */ \"(api)/./lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/prisma */ \"(api)/./lib/prisma.ts\");\n// pages/api/matches.ts - AVEC PAGINATION POUR MOBILE\n\n\n\nasync function handler(req, res) {\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(req, res, _lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n    if (!session?.user?.id) {\n        return res.status(401).json({\n            error: \"Connexion requise\"\n        });\n    }\n    if (req.method === \"GET\") {\n        try {\n            const { type = \"recent\", sport = \"all\", days = \"365\", limit = \"10\", page = \"1\", search, competition, sortBy = \"date\" } = req.query;\n            // 🆕 CALCUL PAGINATION\n            const limitNum = parseInt(limit);\n            const pageNum = parseInt(page);\n            const skip = (pageNum - 1) * limitNum;\n            console.log(`🔍 API Matches - Filtres reçus:`, {\n                type,\n                sport,\n                days,\n                limit: limitNum,\n                page: pageNum,\n                skip,\n                search,\n                competition,\n                sortBy\n            });\n            // Construction du filtre sport\n            let sportFilter = {};\n            if (sport && sport !== \"all\") {\n                const sportMapping = {\n                    \"football\": \"FOOTBALL\",\n                    \"basketball\": \"BASKETBALL\",\n                    \"mma\": \"MMA\",\n                    \"rugby\": \"RUGBY\",\n                    \"f1\": \"F1\"\n                };\n                const mappedSport = sportMapping[sport];\n                if (mappedSport) {\n                    sportFilter = {\n                        sport: mappedSport\n                    };\n                    console.log(`🎯 Filtre sport appliqué: ${sport} -> ${mappedSport}`);\n                }\n            }\n            // Construction du filtre de base\n            const baseFilters = {\n                status: \"FINISHED\",\n                ...sportFilter\n            };\n            // Filtre par date\n            if (type === \"today\") {\n                const today = new Date();\n                today.setHours(0, 0, 0, 0);\n                const tomorrow = new Date(today);\n                tomorrow.setDate(tomorrow.getDate() + 1);\n                baseFilters.date = {\n                    gte: today,\n                    lt: tomorrow\n                };\n            } else {\n                const daysBack = parseInt(days);\n                if (daysBack > 0) {\n                    const daysAgo = new Date();\n                    daysAgo.setDate(daysAgo.getDate() - daysBack);\n                    baseFilters.date = {\n                        gte: daysAgo\n                    };\n                    console.log(`📅 Filtre date: depuis ${daysAgo.toLocaleDateString()} (${daysBack} jours)`);\n                }\n            }\n            // Filtre par recherche\n            if (search && typeof search === \"string\") {\n                baseFilters.OR = [\n                    {\n                        homeTeam: {\n                            contains: search,\n                            mode: \"insensitive\"\n                        }\n                    },\n                    {\n                        awayTeam: {\n                            contains: search,\n                            mode: \"insensitive\"\n                        }\n                    },\n                    {\n                        competition: {\n                            contains: search,\n                            mode: \"insensitive\"\n                        }\n                    }\n                ];\n            }\n            // Filtre par compétition\n            if (competition && competition !== \"all\") {\n                baseFilters.competition = competition;\n            }\n            console.log(`🔍 Filtres Prisma appliqués:`, JSON.stringify(baseFilters, null, 2));\n            // 🆕 CONFIGURATION DU TRI\n            let orderBy = {\n                date: \"desc\"\n            } // Par défaut : par date\n            ;\n            if (sortBy === \"popularity\") {\n                orderBy = [\n                    {\n                        totalRatings: \"desc\"\n                    },\n                    {\n                        avgRating: \"desc\"\n                    },\n                    {\n                        date: \"desc\"\n                    }\n                ];\n                console.log(`📊 Tri par popularité activé`);\n            } else if (sortBy === \"rating\") {\n                orderBy = [\n                    {\n                        avgRating: \"desc\"\n                    },\n                    {\n                        totalRatings: \"desc\"\n                    },\n                    {\n                        date: \"desc\"\n                    }\n                ];\n                console.log(`⭐ Tri par note moyenne activé`);\n            } else if (sortBy === \"date\") {\n                orderBy = {\n                    date: \"desc\"\n                };\n                console.log(`📅 Tri par date activé`);\n            }\n            // 🆕 REQUÊTE PRINCIPALE AVEC PAGINATION\n            const matches = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.findMany({\n                where: baseFilters,\n                include: {\n                    ratings: {\n                        include: {\n                            user: {\n                                select: {\n                                    id: true,\n                                    name: true,\n                                    username: true\n                                }\n                            }\n                        }\n                    }\n                },\n                orderBy,\n                skip: skip,\n                take: limitNum // 🆕 TAKE POUR LIMIT\n            });\n            console.log(`✅ ${matches.length} matchs trouvés (page ${pageNum}, skip ${skip}) avec tri: ${sortBy}`);\n            // 🆕 COMPTER LE TOTAL POUR SAVOIR S'IL Y A PLUS DE RÉSULTATS\n            const totalMatches = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.count({\n                where: baseFilters\n            });\n            const hasMore = skip + matches.length < totalMatches;\n            console.log(`📊 Total: ${totalMatches}, Récupérés: ${matches.length}, HasMore: ${hasMore}`);\n            // Debug: Afficher les top matchs selon le tri choisi\n            if (sortBy === \"popularity\" && matches.length > 0) {\n                const top3 = matches.slice(0, 3).map((m)=>({\n                        teams: `${m.homeTeam} vs ${m.awayTeam}`,\n                        totalRatings: m.totalRatings,\n                        avgRating: m.avgRating.toFixed(1)\n                    }));\n                console.log(`🏆 Top 3 page ${pageNum} par popularité:`, top3);\n            }\n            // Conversion des matchs\n            const formattedMatches = matches.map((match)=>({\n                    id: match.id,\n                    apiId: match.apiMatchId,\n                    sport: getSportFromEnum(match.sport),\n                    homeTeam: match.homeTeam,\n                    awayTeam: match.awayTeam,\n                    homeScore: match.homeScore,\n                    awayScore: match.awayScore,\n                    date: match.date.toISOString(),\n                    status: match.status,\n                    competition: match.competition,\n                    venue: match.venue,\n                    avgRating: match.avgRating,\n                    totalRatings: match.totalRatings,\n                    homeTeamLogo: match.homeTeamLogo,\n                    awayTeamLogo: match.awayTeamLogo,\n                    canRate: true,\n                    ratings: match.ratings,\n                    details: match.details\n                }));\n            // 🆕 STATS SEULEMENT POUR LA PREMIÈRE PAGE (OPTIMISATION)\n            let stats = null;\n            if (pageNum === 1) {\n                const bySportStats = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.groupBy({\n                    by: [\n                        \"sport\"\n                    ],\n                    where: {\n                        status: \"FINISHED\"\n                    },\n                    _count: {\n                        sport: true\n                    }\n                });\n                const byCompetitionStats = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.match.groupBy({\n                    by: [\n                        \"competition\",\n                        \"sport\"\n                    ],\n                    where: {\n                        status: \"FINISHED\"\n                    },\n                    _count: {\n                        competition: true\n                    }\n                });\n                // Convertir les stats des sports\n                const convertedSportStats = bySportStats.map((stat)=>({\n                        sport: getSportFromEnum(stat.sport),\n                        count: stat._count.sport\n                    }));\n                const limitedCompetitionStats = byCompetitionStats.slice(0, 50).map((stat)=>({\n                        competition: stat.competition,\n                        sport: getSportFromEnum(stat.sport),\n                        count: stat._count.competition\n                    }));\n                stats = {\n                    total: totalMatches,\n                    bySport: convertedSportStats,\n                    byCompetition: limitedCompetitionStats\n                };\n            }\n            // 🆕 RÉPONSE AVEC PAGINATION\n            res.status(200).json({\n                matches: formattedMatches,\n                pagination: {\n                    currentPage: pageNum,\n                    totalPages: Math.ceil(totalMatches / limitNum),\n                    totalItems: totalMatches,\n                    itemsPerPage: limitNum,\n                    hasMore: hasMore,\n                    hasNext: hasMore,\n                    hasPrevious: pageNum > 1\n                },\n                stats: stats,\n                sortBy: sortBy\n            });\n        } catch (error) {\n            console.error(\"❌ Erreur API matches:\", error);\n            res.status(500).json({\n                error: \"Erreur serveur\",\n                details: error instanceof Error ? error.message : \"Erreur inconnue\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"GET\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n// Fonction pour convertir l'enum Sport en string\nfunction getSportFromEnum(sportEnum) {\n    const sportMap = {\n        \"FOOTBALL\": \"football\",\n        \"BASKETBALL\": \"basketball\",\n        \"MMA\": \"mma\",\n        \"RUGBY\": \"rugby\",\n        \"F1\": \"f1\"\n    };\n    return sportMap[sportEnum] || sportEnum.toLowerCase();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WTtRQUNaLGNBQWM7UUFDZCxPQUFPO1FBQ1AsU0FBUztRQUNULE1BQU07SUFDUjtJQUVBLE9BQU9BLFFBQVEsQ0FBQ0QsVUFBVSxJQUFJQSxVQUFVRSxXQUFXO0FBQ3JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vdHJhdGUvLi9wYWdlcy9hcGkvbWF0Y2hlcy50cz8wNWI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL2FwaS9tYXRjaGVzLnRzIC0gQVZFQyBQQUdJTkFUSU9OIFBPVVIgTU9CSUxFXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgvbmV4dCdcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnLi4vLi4vbGliL2F1dGgnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuLi8uLi9saWIvcHJpc21hJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKHJlcSwgcmVzLCBhdXRoT3B0aW9ucylcblxuICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdDb25uZXhpb24gcmVxdWlzZScgfSlcbiAgfVxuXG4gIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IFxuICAgICAgICB0eXBlID0gJ3JlY2VudCcsIFxuICAgICAgICBzcG9ydCA9ICdhbGwnLCBcbiAgICAgICAgZGF5cyA9ICczNjUnLFxuICAgICAgICBsaW1pdCA9ICcxMCcsIC8vIPCfhpUgREVGQVVMVCDDgCAxMCBQT1VSIE1PQklMRVxuICAgICAgICBwYWdlID0gJzEnLCAgIC8vIPCfhpUgTk9VVkVBVSBQQVJBTcOIVFJFIFBBR0VcbiAgICAgICAgc2VhcmNoLFxuICAgICAgICBjb21wZXRpdGlvbixcbiAgICAgICAgc29ydEJ5ID0gJ2RhdGUnXG4gICAgICB9ID0gcmVxLnF1ZXJ5XG5cbiAgICAgIC8vIPCfhpUgQ0FMQ1VMIFBBR0lOQVRJT05cbiAgICAgIGNvbnN0IGxpbWl0TnVtID0gcGFyc2VJbnQobGltaXQgYXMgc3RyaW5nKVxuICAgICAgY29uc3QgcGFnZU51bSA9IHBhcnNlSW50KHBhZ2UgYXMgc3RyaW5nKVxuICAgICAgY29uc3Qgc2tpcCA9IChwYWdlTnVtIC0gMSkgKiBsaW1pdE51bVxuXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBBUEkgTWF0Y2hlcyAtIEZpbHRyZXMgcmXDp3VzOmAsIHsgXG4gICAgICAgIHR5cGUsIHNwb3J0LCBkYXlzLCBsaW1pdDogbGltaXROdW0sIHBhZ2U6IHBhZ2VOdW0sIHNraXAsIHNlYXJjaCwgY29tcGV0aXRpb24sIHNvcnRCeSBcbiAgICAgIH0pXG5cbiAgICAgIC8vIENvbnN0cnVjdGlvbiBkdSBmaWx0cmUgc3BvcnRcbiAgICAgIGxldCBzcG9ydEZpbHRlciA9IHt9XG4gICAgICBcbiAgICAgIGlmIChzcG9ydCAmJiBzcG9ydCAhPT0gJ2FsbCcpIHtcbiAgICAgICAgY29uc3Qgc3BvcnRNYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICAgICdmb290YmFsbCc6ICdGT09UQkFMTCcsXG4gICAgICAgICAgJ2Jhc2tldGJhbGwnOiAnQkFTS0VUQkFMTCcsXG4gICAgICAgICAgJ21tYSc6ICdNTUEnLFxuICAgICAgICAgICdydWdieSc6ICdSVUdCWScsXG4gICAgICAgICAgJ2YxJzogJ0YxJ1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBtYXBwZWRTcG9ydCA9IHNwb3J0TWFwcGluZ1tzcG9ydCBhcyBzdHJpbmddXG4gICAgICAgIGlmIChtYXBwZWRTcG9ydCkge1xuICAgICAgICAgIHNwb3J0RmlsdGVyID0geyBzcG9ydDogbWFwcGVkU3BvcnQgfVxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46vIEZpbHRyZSBzcG9ydCBhcHBsaXF1w6k6ICR7c3BvcnR9IC0+ICR7bWFwcGVkU3BvcnR9YClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb25zdHJ1Y3Rpb24gZHUgZmlsdHJlIGRlIGJhc2VcbiAgICAgIGNvbnN0IGJhc2VGaWx0ZXJzOiBhbnkgPSB7XG4gICAgICAgIHN0YXR1czogJ0ZJTklTSEVEJyxcbiAgICAgICAgLi4uc3BvcnRGaWx0ZXJcbiAgICAgIH1cblxuICAgICAgLy8gRmlsdHJlIHBhciBkYXRlXG4gICAgICBpZiAodHlwZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMClcbiAgICAgICAgY29uc3QgdG9tb3Jyb3cgPSBuZXcgRGF0ZSh0b2RheSlcbiAgICAgICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKVxuICAgICAgICBcbiAgICAgICAgYmFzZUZpbHRlcnMuZGF0ZSA9IHtcbiAgICAgICAgICBndGU6IHRvZGF5LFxuICAgICAgICAgIGx0OiB0b21vcnJvd1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkYXlzQmFjayA9IHBhcnNlSW50KGRheXMgYXMgc3RyaW5nKVxuICAgICAgICBcbiAgICAgICAgaWYgKGRheXNCYWNrID4gMCkge1xuICAgICAgICAgIGNvbnN0IGRheXNBZ28gPSBuZXcgRGF0ZSgpXG4gICAgICAgICAgZGF5c0Fnby5zZXREYXRlKGRheXNBZ28uZ2V0RGF0ZSgpIC0gZGF5c0JhY2spXG4gICAgICAgICAgYmFzZUZpbHRlcnMuZGF0ZSA9IHtcbiAgICAgICAgICAgIGd0ZTogZGF5c0Fnb1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+ThSBGaWx0cmUgZGF0ZTogZGVwdWlzICR7ZGF5c0Fnby50b0xvY2FsZURhdGVTdHJpbmcoKX0gKCR7ZGF5c0JhY2t9IGpvdXJzKWApXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRmlsdHJlIHBhciByZWNoZXJjaGVcbiAgICAgIGlmIChzZWFyY2ggJiYgdHlwZW9mIHNlYXJjaCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYmFzZUZpbHRlcnMuT1IgPSBbXG4gICAgICAgICAgeyBob21lVGVhbTogeyBjb250YWluczogc2VhcmNoLCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfSxcbiAgICAgICAgICB7IGF3YXlUZWFtOiB7IGNvbnRhaW5zOiBzZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICAgIHsgY29tcGV0aXRpb246IHsgY29udGFpbnM6IHNlYXJjaCwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH1cbiAgICAgICAgXVxuICAgICAgfVxuXG4gICAgICAvLyBGaWx0cmUgcGFyIGNvbXDDqXRpdGlvblxuICAgICAgaWYgKGNvbXBldGl0aW9uICYmIGNvbXBldGl0aW9uICE9PSAnYWxsJykge1xuICAgICAgICBiYXNlRmlsdGVycy5jb21wZXRpdGlvbiA9IGNvbXBldGl0aW9uXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIEZpbHRyZXMgUHJpc21hIGFwcGxpcXXDqXM6YCwgSlNPTi5zdHJpbmdpZnkoYmFzZUZpbHRlcnMsIG51bGwsIDIpKVxuXG4gICAgICAvLyDwn4aVIENPTkZJR1VSQVRJT04gRFUgVFJJXG4gICAgICBsZXQgb3JkZXJCeTogYW55ID0geyBkYXRlOiAnZGVzYycgfSAvLyBQYXIgZMOpZmF1dCA6IHBhciBkYXRlXG4gICAgICBcbiAgICAgIGlmIChzb3J0QnkgPT09ICdwb3B1bGFyaXR5Jykge1xuICAgICAgICBvcmRlckJ5ID0gW1xuICAgICAgICAgIHsgdG90YWxSYXRpbmdzOiAnZGVzYycgfSxcbiAgICAgICAgICB7IGF2Z1JhdGluZzogJ2Rlc2MnIH0sXG4gICAgICAgICAgeyBkYXRlOiAnZGVzYycgfVxuICAgICAgICBdXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFRyaSBwYXIgcG9wdWxhcml0w6kgYWN0aXbDqWApXG4gICAgICB9IGVsc2UgaWYgKHNvcnRCeSA9PT0gJ3JhdGluZycpIHtcbiAgICAgICAgb3JkZXJCeSA9IFtcbiAgICAgICAgICB7IGF2Z1JhdGluZzogJ2Rlc2MnIH0sXG4gICAgICAgICAgeyB0b3RhbFJhdGluZ3M6ICdkZXNjJyB9LFxuICAgICAgICAgIHsgZGF0ZTogJ2Rlc2MnIH1cbiAgICAgICAgXVxuICAgICAgICBjb25zb2xlLmxvZyhg4q2QIFRyaSBwYXIgbm90ZSBtb3llbm5lIGFjdGl2w6lgKVxuICAgICAgfSBlbHNlIGlmIChzb3J0QnkgPT09ICdkYXRlJykge1xuICAgICAgICBvcmRlckJ5ID0geyBkYXRlOiAnZGVzYycgfVxuICAgICAgICBjb25zb2xlLmxvZyhg8J+ThSBUcmkgcGFyIGRhdGUgYWN0aXbDqWApXG4gICAgICB9XG5cbiAgICAgIC8vIPCfhpUgUkVRVcOKVEUgUFJJTkNJUEFMRSBBVkVDIFBBR0lOQVRJT05cbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBhd2FpdCBwcmlzbWEubWF0Y2guZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogYmFzZUZpbHRlcnMsXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICByYXRpbmdzOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHsgaWQ6IHRydWUsIG5hbWU6IHRydWUsIHVzZXJuYW1lOiB0cnVlIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgc2tpcDogc2tpcCwgICAgICAgIC8vIPCfhpUgU0tJUCBQT1VSIFBBR0lOQVRJT05cbiAgICAgICAgdGFrZTogbGltaXROdW0gICAgIC8vIPCfhpUgVEFLRSBQT1VSIExJTUlUXG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFICR7bWF0Y2hlcy5sZW5ndGh9IG1hdGNocyB0cm91dsOpcyAocGFnZSAke3BhZ2VOdW19LCBza2lwICR7c2tpcH0pIGF2ZWMgdHJpOiAke3NvcnRCeX1gKVxuXG4gICAgICAvLyDwn4aVIENPTVBURVIgTEUgVE9UQUwgUE9VUiBTQVZPSVIgUydJTCBZIEEgUExVUyBERSBSw4lTVUxUQVRTXG4gICAgICBjb25zdCB0b3RhbE1hdGNoZXMgPSBhd2FpdCBwcmlzbWEubWF0Y2guY291bnQoe1xuICAgICAgICB3aGVyZTogYmFzZUZpbHRlcnNcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGhhc01vcmUgPSBza2lwICsgbWF0Y2hlcy5sZW5ndGggPCB0b3RhbE1hdGNoZXNcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFRvdGFsOiAke3RvdGFsTWF0Y2hlc30sIFLDqWN1cMOpcsOpczogJHttYXRjaGVzLmxlbmd0aH0sIEhhc01vcmU6ICR7aGFzTW9yZX1gKVxuXG4gICAgICAvLyBEZWJ1ZzogQWZmaWNoZXIgbGVzIHRvcCBtYXRjaHMgc2Vsb24gbGUgdHJpIGNob2lzaVxuICAgICAgaWYgKHNvcnRCeSA9PT0gJ3BvcHVsYXJpdHknICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB0b3AzID0gbWF0Y2hlcy5zbGljZSgwLCAzKS5tYXAobSA9PiAoe1xuICAgICAgICAgIHRlYW1zOiBgJHttLmhvbWVUZWFtfSB2cyAke20uYXdheVRlYW19YCxcbiAgICAgICAgICB0b3RhbFJhdGluZ3M6IG0udG90YWxSYXRpbmdzLFxuICAgICAgICAgIGF2Z1JhdGluZzogbS5hdmdSYXRpbmcudG9GaXhlZCgxKVxuICAgICAgICB9KSlcbiAgICAgICAgY29uc29sZS5sb2coYPCfj4YgVG9wIDMgcGFnZSAke3BhZ2VOdW19IHBhciBwb3B1bGFyaXTDqTpgLCB0b3AzKVxuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJzaW9uIGRlcyBtYXRjaHNcbiAgICAgIGNvbnN0IGZvcm1hdHRlZE1hdGNoZXMgPSBtYXRjaGVzLm1hcChtYXRjaCA9PiAoe1xuICAgICAgICBpZDogbWF0Y2guaWQsXG4gICAgICAgIGFwaUlkOiBtYXRjaC5hcGlNYXRjaElkLFxuICAgICAgICBzcG9ydDogZ2V0U3BvcnRGcm9tRW51bShtYXRjaC5zcG9ydCksXG4gICAgICAgIGhvbWVUZWFtOiBtYXRjaC5ob21lVGVhbSxcbiAgICAgICAgYXdheVRlYW06IG1hdGNoLmF3YXlUZWFtLFxuICAgICAgICBob21lU2NvcmU6IG1hdGNoLmhvbWVTY29yZSxcbiAgICAgICAgYXdheVNjb3JlOiBtYXRjaC5hd2F5U2NvcmUsXG4gICAgICAgIGRhdGU6IG1hdGNoLmRhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgc3RhdHVzOiBtYXRjaC5zdGF0dXMsXG4gICAgICAgIGNvbXBldGl0aW9uOiBtYXRjaC5jb21wZXRpdGlvbixcbiAgICAgICAgdmVudWU6IG1hdGNoLnZlbnVlLFxuICAgICAgICBhdmdSYXRpbmc6IG1hdGNoLmF2Z1JhdGluZyxcbiAgICAgICAgdG90YWxSYXRpbmdzOiBtYXRjaC50b3RhbFJhdGluZ3MsXG4gICAgICAgIGhvbWVUZWFtTG9nbzogbWF0Y2guaG9tZVRlYW1Mb2dvLFxuICAgICAgICBhd2F5VGVhbUxvZ286IG1hdGNoLmF3YXlUZWFtTG9nbyxcbiAgICAgICAgY2FuUmF0ZTogdHJ1ZSxcbiAgICAgICAgcmF0aW5nczogbWF0Y2gucmF0aW5ncyxcbiAgICAgICAgZGV0YWlsczogbWF0Y2guZGV0YWlsc1xuICAgICAgfSkpXG5cbiAgICAgIC8vIPCfhpUgU1RBVFMgU0VVTEVNRU5UIFBPVVIgTEEgUFJFTUnDiFJFIFBBR0UgKE9QVElNSVNBVElPTilcbiAgICAgIGxldCBzdGF0cyA9IG51bGxcbiAgICAgIGlmIChwYWdlTnVtID09PSAxKSB7XG4gICAgICAgIGNvbnN0IGJ5U3BvcnRTdGF0cyA9IGF3YWl0IHByaXNtYS5tYXRjaC5ncm91cEJ5KHtcbiAgICAgICAgICBieTogWydzcG9ydCddLFxuICAgICAgICAgIHdoZXJlOiB7IHN0YXR1czogJ0ZJTklTSEVEJyB9LFxuICAgICAgICAgIF9jb3VudDogeyBzcG9ydDogdHJ1ZSB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgYnlDb21wZXRpdGlvblN0YXRzID0gYXdhaXQgcHJpc21hLm1hdGNoLmdyb3VwQnkoe1xuICAgICAgICAgIGJ5OiBbJ2NvbXBldGl0aW9uJywgJ3Nwb3J0J10sXG4gICAgICAgICAgd2hlcmU6IHsgc3RhdHVzOiAnRklOSVNIRUQnIH0sXG4gICAgICAgICAgX2NvdW50OiB7IGNvbXBldGl0aW9uOiB0cnVlIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBDb252ZXJ0aXIgbGVzIHN0YXRzIGRlcyBzcG9ydHNcbiAgICAgICAgY29uc3QgY29udmVydGVkU3BvcnRTdGF0cyA9IGJ5U3BvcnRTdGF0cy5tYXAoc3RhdCA9PiAoe1xuICAgICAgICAgIHNwb3J0OiBnZXRTcG9ydEZyb21FbnVtKHN0YXQuc3BvcnQpLFxuICAgICAgICAgIGNvdW50OiBzdGF0Ll9jb3VudC5zcG9ydFxuICAgICAgICB9KSlcblxuICAgICAgICBjb25zdCBsaW1pdGVkQ29tcGV0aXRpb25TdGF0cyA9IGJ5Q29tcGV0aXRpb25TdGF0c1xuICAgICAgICAgIC5zbGljZSgwLCA1MClcbiAgICAgICAgICAubWFwKHN0YXQgPT4gKHtcbiAgICAgICAgICAgIGNvbXBldGl0aW9uOiBzdGF0LmNvbXBldGl0aW9uLFxuICAgICAgICAgICAgc3BvcnQ6IGdldFNwb3J0RnJvbUVudW0oc3RhdC5zcG9ydCksXG4gICAgICAgICAgICBjb3VudDogc3RhdC5fY291bnQuY29tcGV0aXRpb25cbiAgICAgICAgICB9KSlcblxuICAgICAgICBzdGF0cyA9IHtcbiAgICAgICAgICB0b3RhbDogdG90YWxNYXRjaGVzLFxuICAgICAgICAgIGJ5U3BvcnQ6IGNvbnZlcnRlZFNwb3J0U3RhdHMsXG4gICAgICAgICAgYnlDb21wZXRpdGlvbjogbGltaXRlZENvbXBldGl0aW9uU3RhdHNcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDwn4aVIFLDiVBPTlNFIEFWRUMgUEFHSU5BVElPTlxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtYXRjaGVzOiBmb3JtYXR0ZWRNYXRjaGVzLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgY3VycmVudFBhZ2U6IHBhZ2VOdW0sXG4gICAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKHRvdGFsTWF0Y2hlcyAvIGxpbWl0TnVtKSxcbiAgICAgICAgICB0b3RhbEl0ZW1zOiB0b3RhbE1hdGNoZXMsXG4gICAgICAgICAgaXRlbXNQZXJQYWdlOiBsaW1pdE51bSxcbiAgICAgICAgICBoYXNNb3JlOiBoYXNNb3JlLFxuICAgICAgICAgIGhhc05leHQ6IGhhc01vcmUsXG4gICAgICAgICAgaGFzUHJldmlvdXM6IHBhZ2VOdW0gPiAxXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXRzOiBzdGF0cywgLy8gTnVsbCBwb3VyIGxlcyBwYWdlcyA+IDFcbiAgICAgICAgc29ydEJ5OiBzb3J0QnlcbiAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycmV1ciBBUEkgbWF0Y2hlczonLCBlcnJvcilcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICAgIGVycm9yOiAnRXJyZXVyIHNlcnZldXInLFxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJldXIgaW5jb25udWUnXG4gICAgICB9KVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJ10pXG4gICAgcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKVxuICB9XG59XG5cbi8vIEZvbmN0aW9uIHBvdXIgY29udmVydGlyIGwnZW51bSBTcG9ydCBlbiBzdHJpbmdcbmZ1bmN0aW9uIGdldFNwb3J0RnJvbUVudW0oc3BvcnRFbnVtOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzcG9ydE1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAnRk9PVEJBTEwnOiAnZm9vdGJhbGwnLFxuICAgICdCQVNLRVRCQUxMJzogJ2Jhc2tldGJhbGwnLCBcbiAgICAnTU1BJzogJ21tYScsXG4gICAgJ1JVR0JZJzogJ3J1Z2J5JyxcbiAgICAnRjEnOiAnZjEnXG4gIH1cbiAgXG4gIHJldHVybiBzcG9ydE1hcFtzcG9ydEVudW1dIHx8IHNwb3J0RW51bS50b0xvd2VyQ2FzZSgpXG59Il0sIm5hbWVzIjpbImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsInByaXNtYSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXNzaW9uIiwidXNlciIsImlkIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWV0aG9kIiwidHlwZSIsInNwb3J0IiwiZGF5cyIsImxpbWl0IiwicGFnZSIsInNlYXJjaCIsImNvbXBldGl0aW9uIiwic29ydEJ5IiwicXVlcnkiLCJsaW1pdE51bSIsInBhcnNlSW50IiwicGFnZU51bSIsInNraXAiLCJjb25zb2xlIiwibG9nIiwic3BvcnRGaWx0ZXIiLCJzcG9ydE1hcHBpbmciLCJtYXBwZWRTcG9ydCIsImJhc2VGaWx0ZXJzIiwidG9kYXkiLCJEYXRlIiwic2V0SG91cnMiLCJ0b21vcnJvdyIsInNldERhdGUiLCJnZXREYXRlIiwiZGF0ZSIsImd0ZSIsImx0IiwiZGF5c0JhY2siLCJkYXlzQWdvIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiT1IiLCJob21lVGVhbSIsImNvbnRhaW5zIiwibW9kZSIsImF3YXlUZWFtIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9yZGVyQnkiLCJ0b3RhbFJhdGluZ3MiLCJhdmdSYXRpbmciLCJtYXRjaGVzIiwibWF0Y2giLCJmaW5kTWFueSIsIndoZXJlIiwiaW5jbHVkZSIsInJhdGluZ3MiLCJzZWxlY3QiLCJuYW1lIiwidXNlcm5hbWUiLCJ0YWtlIiwibGVuZ3RoIiwidG90YWxNYXRjaGVzIiwiY291bnQiLCJoYXNNb3JlIiwidG9wMyIsInNsaWNlIiwibWFwIiwibSIsInRlYW1zIiwidG9GaXhlZCIsImZvcm1hdHRlZE1hdGNoZXMiLCJhcGlJZCIsImFwaU1hdGNoSWQiLCJnZXRTcG9ydEZyb21FbnVtIiwiaG9tZVNjb3JlIiwiYXdheVNjb3JlIiwidG9JU09TdHJpbmciLCJ2ZW51ZSIsImhvbWVUZWFtTG9nbyIsImF3YXlUZWFtTG9nbyIsImNhblJhdGUiLCJkZXRhaWxzIiwic3RhdHMiLCJieVNwb3J0U3RhdHMiLCJncm91cEJ5IiwiYnkiLCJfY291bnQiLCJieUNvbXBldGl0aW9uU3RhdHMiLCJjb252ZXJ0ZWRTcG9ydFN0YXRzIiwic3RhdCIsImxpbWl0ZWRDb21wZXRpdGlvblN0YXRzIiwidG90YWwiLCJieVNwb3J0IiwiYnlDb21wZXRpdGlvbiIsInBhZ2luYXRpb24iLCJjdXJyZW50UGFnZSIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsInRvdGFsSXRlbXMiLCJpdGVtc1BlclBhZ2UiLCJoYXNOZXh0IiwiaGFzUHJldmlvdXMiLCJFcnJvciIsIm1lc3NhZ2UiLCJzZXRIZWFkZXIiLCJlbmQiLCJzcG9ydEVudW0iLCJzcG9ydE1hcCIsInRvTG93ZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/matches.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fmatches&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fmatches.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();