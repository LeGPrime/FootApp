"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/cholismo";
exports.ids = ["pages/api/cholismo"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcholismo&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcholismo.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcholismo&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcholismo.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_cholismo_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/cholismo.ts */ \"(api)/./pages/api/cholismo.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_cholismo_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_cholismo_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/cholismo\",\n        pathname: \"/api/cholismo\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_cholismo_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNob2xpc21vJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZjaG9saXNtby50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNvRDtBQUNwRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsbURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG1EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb3RyYXRlLz81NGE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvY2hvbGlzbW8udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaG9saXNtb1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Nob2xpc21vXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcholismo&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcholismo.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb3RyYXRlLy4vbGliL3ByaXNtYS50cz85ODIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./pages/api/cholismo.ts":
/*!*******************************!*\
  !*** ./pages/api/cholismo.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/prisma */ \"(api)/./lib/prisma.ts\");\n// pages/api/cholismo.ts - Classement des meilleurs coachs\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { sport = \"FOOTBALL\", minMatches = \"3\", limit = \"50\", period = \"all-time\" } = req.query;\n        console.log(`🏆 Calcul Cholismo du Peuple - Sport: ${sport}, Min matchs: ${minMatches}`);\n        // 1. Construire les filtres pour COACHS UNIQUEMENT\n        let sportFilter = {\n            sport: sport.toString().toUpperCase()\n        };\n        // 2. Filtre par période\n        let dateFilter = {};\n        const now = new Date();\n        switch(period){\n            case \"this-year\":\n                const yearAgo = new Date();\n                yearAgo.setFullYear(now.getFullYear() - 1);\n                dateFilter = {\n                    createdAt: {\n                        gte: yearAgo\n                    }\n                };\n                break;\n            case \"this-season\":\n                const seasonStart = new Date();\n                seasonStart.setMonth(8) // Septembre\n                ;\n                if (now.getMonth() < 8) {\n                    seasonStart.setFullYear(now.getFullYear() - 1);\n                }\n                dateFilter = {\n                    createdAt: {\n                        gte: seasonStart\n                    }\n                };\n                break;\n            case \"last-6-months\":\n                const sixMonthsAgo = new Date();\n                sixMonthsAgo.setMonth(now.getMonth() - 6);\n                dateFilter = {\n                    createdAt: {\n                        gte: sixMonthsAgo\n                    }\n                };\n                break;\n            default:\n                break;\n        }\n        // 3. Récupérer UNIQUEMENT LES COACHS avec leurs notes\n        const coachesWithRatings = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.player.findMany({\n            where: {\n                ...sportFilter,\n                position: \"COACH\",\n                ratings: {\n                    some: dateFilter\n                }\n            },\n            include: {\n                ratings: {\n                    where: dateFilter,\n                    include: {\n                        match: {\n                            select: {\n                                id: true,\n                                homeTeam: true,\n                                awayTeam: true,\n                                date: true,\n                                competition: true,\n                                sport: true,\n                                homeScore: true,\n                                awayScore: true\n                            }\n                        },\n                        user: {\n                            select: {\n                                id: true,\n                                name: true\n                            }\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    }\n                }\n            }\n        });\n        console.log(`👨‍💼 ${coachesWithRatings.length} coachs bruts récupérés`);\n        // 4. 🧠 FUSION INTELLIGENTE DES COACHS (même logique que joueurs)\n        const fusedCoaches = new Map();\n        for (const coach of coachesWithRatings){\n            if (coach.ratings.length === 0) continue;\n            // Normaliser le nom pour la fusion\n            const normalizedName = normalizeCoachName(coach.name);\n            // Si le coach existe déjà (même nom normalisé), fusionner\n            if (fusedCoaches.has(normalizedName)) {\n                const existingCoach = fusedCoaches.get(normalizedName);\n                // Fusionner les données\n                existingCoach.ratings.push(...coach.ratings);\n                existingCoach.teams.add(coach.team);\n                console.log(`🔗 Fusion coach: ${coach.name} (${coach.team}) avec ${existingCoach.name}`);\n            } else {\n                // Nouveau coach\n                fusedCoaches.set(normalizedName, {\n                    originalId: coach.id,\n                    name: coach.name,\n                    normalizedName,\n                    sport: coach.sport,\n                    teams: new Set([\n                        coach.team\n                    ]),\n                    ratings: [\n                        ...coach.ratings\n                    ]\n                });\n            }\n        }\n        console.log(`🔗 Après fusion: ${fusedCoaches.size} coachs uniques`);\n        // 5. Calculer les statistiques pour chaque coach fusionné\n        const cholismoCandidates = [];\n        for (const [normalizedName, fusedCoach] of fusedCoaches.entries()){\n            const ratings = fusedCoach.ratings;\n            if (ratings.length < parseInt(minMatches.toString())) {\n                continue;\n            }\n            // Calculer la moyenne globale\n            const avgRating = ratings.reduce((sum, r)=>sum + r.rating, 0) / ratings.length;\n            // Trouver le meilleur match\n            const bestRating = ratings.reduce((best, current)=>current.rating > best.rating ? current : best);\n            // Récupérer les matchs uniques avec moyenne par match\n            const uniqueMatches = new Map();\n            ratings.forEach((rating)=>{\n                const matchId = rating.match.id;\n                if (!uniqueMatches.has(matchId)) {\n                    uniqueMatches.set(matchId, {\n                        match: rating.match,\n                        ratings: []\n                    });\n                }\n                uniqueMatches.get(matchId).ratings.push(rating);\n            });\n            const totalMatches = uniqueMatches.size;\n            // Calculer les 5 matchs les plus récents\n            const recentMatches = Array.from(uniqueMatches.values()).sort((a, b)=>new Date(b.match.date).getTime() - new Date(a.match.date).getTime()).slice(0, 5).map((matchData)=>{\n                const matchAvgRating = matchData.ratings.reduce((sum, r)=>sum + r.rating, 0) / matchData.ratings.length;\n                const bestComment = matchData.ratings.find((r)=>r.comment)?.comment;\n                // Déterminer l'équipe du coach pour ce match\n                const coachTeam = getCoachTeamForMatch(matchData.match, Array.from(fusedCoach.teams));\n                return {\n                    matchId: matchData.match.id,\n                    rating: Number(matchAvgRating.toFixed(1)),\n                    comment: bestComment,\n                    homeTeam: matchData.match.homeTeam,\n                    awayTeam: matchData.match.awayTeam,\n                    date: matchData.match.date,\n                    competition: matchData.match.competition,\n                    team: coachTeam\n                };\n            });\n            // Calculer l'historique mensuel\n            const ratingHistory = calculateMonthlyHistory(ratings);\n            // Calculer la répartition par équipe\n            const teamBreakdown = calculateTeamBreakdown(ratings, Array.from(fusedCoach.teams));\n            // 🧠 INSIGHTS TACTIQUES SPÉCIFIQUES AUX COACHS\n            const tacticalInsights = calculateTacticalInsights(ratings, Array.from(fusedCoach.teams), uniqueMatches);\n            // Déterminer l'équipe du meilleur match\n            const bestMatchTeam = getCoachTeamForMatch(bestRating.match, Array.from(fusedCoach.teams));\n            cholismoCandidates.push({\n                id: `coach_fused_${normalizedName}`,\n                name: fusedCoach.name,\n                normalizedName,\n                teams: Array.from(fusedCoach.teams),\n                sport: fusedCoach.sport,\n                avgRating: Number(avgRating.toFixed(2)),\n                totalRatings: ratings.length,\n                totalMatches,\n                bestMatch: {\n                    id: bestRating.match.id,\n                    rating: bestRating.rating,\n                    homeTeam: bestRating.match.homeTeam,\n                    awayTeam: bestRating.match.awayTeam,\n                    date: bestRating.match.date,\n                    competition: bestRating.match.competition,\n                    team: bestMatchTeam\n                },\n                recentMatches,\n                ratingHistory,\n                teamBreakdown,\n                tacticalInsights\n            });\n        }\n        // 6. Trier par moyenne des notes (avec bonus pour l'expérience)\n        cholismoCandidates.sort((a, b)=>{\n            // Bonus léger pour l'expérience (plus de matchs)\n            const aScore = a.avgRating + Math.log(a.totalMatches) * 0.05;\n            const bScore = b.avgRating + Math.log(b.totalMatches) * 0.05;\n            if (Math.abs(aScore - bScore) < 0.01) {\n                return b.totalMatches - a.totalMatches;\n            }\n            return bScore - aScore;\n        });\n        // 7. Limiter les résultats\n        const topCoaches = cholismoCandidates.slice(0, parseInt(limit.toString()));\n        // 8. Statistiques globales\n        const globalStats = {\n            totalCoaches: cholismoCandidates.length,\n            totalRatings: cholismoCandidates.reduce((sum, c)=>sum + c.totalRatings, 0),\n            totalMatches: cholismoCandidates.reduce((sum, c)=>sum + c.totalMatches, 0),\n            avgRatingGlobal: cholismoCandidates.length > 0 ? cholismoCandidates.reduce((sum, c)=>sum + c.avgRating, 0) / cholismoCandidates.length : 0,\n            topRating: topCoaches[0]?.avgRating || 0,\n            tacticalStylesBreakdown: calculateTacticalStylesBreakdown(topCoaches),\n            fusionStats: {\n                originalCoaches: coachesWithRatings.length,\n                fusedCoaches: cholismoCandidates.length,\n                fusionReduction: coachesWithRatings.length - cholismoCandidates.length\n            }\n        };\n        console.log(`👨‍💼 Cholismo du Peuple calculé:`);\n        console.log(`   - ${coachesWithRatings.length} coachs originaux`);\n        console.log(`   - ${cholismoCandidates.length} coachs après fusion`);\n        console.log(`   - Leader: ${topCoaches[0]?.name} (${topCoaches[0]?.avgRating}/10)`);\n        console.log(`   - Équipes: ${topCoaches[0]?.teams.join(\", \")}`);\n        res.status(200).json({\n            success: true,\n            cholismo: topCoaches,\n            stats: globalStats,\n            filters: {\n                sport,\n                period,\n                minMatches: parseInt(minMatches.toString())\n            }\n        });\n    } catch (error) {\n        console.error(\"❌ Erreur Cholismo du Peuple:\", error);\n        res.status(500).json({\n            success: false,\n            error: \"Erreur serveur\",\n            details: error instanceof Error ? error.message : \"Erreur inconnue\"\n        });\n    }\n}\n// 🧠 Fonction de normalisation des noms de coachs\nfunction normalizeCoachName(name) {\n    let normalized = name.toLowerCase().trim().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[^a-z\\s-]/g, \"\").replace(/\\s+/g, \" \").trim();\n    // Mappings spéciaux pour les coachs célèbres\n    const coachMappings = {\n        \"p guardiola\": \"pep guardiola\",\n        \"pep guardiola\": \"pep guardiola\",\n        \"j mourinho\": \"jose mourinho\",\n        \"jose mourinho\": \"jose mourinho\",\n        \"c ancelotti\": \"carlo ancelotti\",\n        \"carlo ancelotti\": \"carlo ancelotti\",\n        \"j klopp\": \"jurgen klopp\",\n        \"jurgen klopp\": \"jurgen klopp\",\n        \"d simeone\": \"diego simeone\",\n        \"diego simeone\": \"diego simeone\"\n    };\n    if (coachMappings[normalized]) {\n        normalized = coachMappings[normalized];\n    }\n    console.log(`🔍 Normalisation coach: \"${name}\" -> \"${normalized}\"`);\n    return normalized;\n}\n// Fonction pour déterminer l'équipe du coach dans un match\nfunction getCoachTeamForMatch(match, coachTeams) {\n    const homeTeam = match.homeTeam.toLowerCase();\n    const awayTeam = match.awayTeam.toLowerCase();\n    for (const team of coachTeams){\n        const teamLower = team.toLowerCase();\n        if (homeTeam.includes(teamLower) || teamLower.includes(homeTeam.split(\" \")[0])) {\n            return match.homeTeam;\n        }\n        if (awayTeam.includes(teamLower) || teamLower.includes(awayTeam.split(\" \")[0])) {\n            return match.awayTeam;\n        }\n    }\n    return coachTeams[0] || \"\\xc9quipe inconnue\";\n}\n// 🧠 Calcul des insights tactiques spécifiques aux coachs\nfunction calculateTacticalInsights(ratings, teams, uniqueMatches) {\n    // Équipe la plus forte (meilleure moyenne)\n    const teamStats = new Map();\n    teams.forEach((team)=>{\n        teamStats.set(team, {\n            ratings: [],\n            wins: 0,\n            total: 0\n        });\n    });\n    // Analyser chaque match\n    Array.from(uniqueMatches.values()).forEach((matchData)=>{\n        const match = matchData.match;\n        const matchRatings = matchData.ratings;\n        const avgMatchRating = matchRatings.reduce((sum, r)=>sum + r.rating, 0) / matchRatings.length;\n        const coachTeam = getCoachTeamForMatch(match, teams);\n        const normalizedTeam = teams.find((t)=>t.toLowerCase().includes(coachTeam.toLowerCase()) || coachTeam.toLowerCase().includes(t.toLowerCase())) || teams[0];\n        if (teamStats.has(normalizedTeam)) {\n            teamStats.get(normalizedTeam).ratings.push(avgMatchRating);\n            teamStats.get(normalizedTeam).total++;\n            // Considérer comme \"victoire tactique\" si note >= 7\n            if (avgMatchRating >= 7) {\n                teamStats.get(normalizedTeam).wins++;\n            }\n        }\n    });\n    // Trouver l'équipe la plus forte\n    let strongestTeam = teams[0];\n    let bestAvg = 0;\n    for (const [team, stats] of teamStats.entries()){\n        if (stats.ratings.length > 0) {\n            const avg = stats.ratings.reduce((sum, r)=>sum + r, 0) / stats.ratings.length;\n            if (avg > bestAvg) {\n                bestAvg = avg;\n                strongestTeam = team;\n            }\n        }\n    }\n    // Moyenne par compétition\n    const competitionStats = new Map();\n    ratings.forEach((rating)=>{\n        const comp = rating.match.competition;\n        if (!competitionStats.has(comp)) {\n            competitionStats.set(comp, {\n                ratings: [],\n                matches: new Set()\n            });\n        }\n        competitionStats.get(comp).ratings.push(rating.rating);\n        competitionStats.get(comp).matches.add(rating.match.id);\n    });\n    const averageByCompetition = Array.from(competitionStats.entries()).map(([competition, data])=>({\n            competition,\n            avgRating: Number((data.ratings.reduce((sum, r)=>sum + r, 0) / data.ratings.length).toFixed(2)),\n            matchCount: data.matches.size\n        })).sort((a, b)=>b.avgRating - a.avgRating).slice(0, 5);\n    // Taux de \"victoires tactiques\" global\n    const totalGoodMatches = Array.from(uniqueMatches.values()).filter((matchData)=>{\n        const avgRating = matchData.ratings.reduce((sum, r)=>sum + r.rating, 0) / matchData.ratings.length;\n        return avgRating >= 7;\n    }).length;\n    const winRate = uniqueMatches.size > 0 ? totalGoodMatches / uniqueMatches.size * 100 : 0;\n    return {\n        strongestTeam,\n        averageByCompetition,\n        winRate: Number(winRate.toFixed(1))\n    };\n}\n// Calculer la répartition par équipe (réutilisé)\nfunction calculateTeamBreakdown(ratings, teams) {\n    const teamStats = new Map();\n    teams.forEach((team)=>{\n        teamStats.set(team, {\n            team,\n            ratings: [],\n            matches: new Set()\n        });\n    });\n    ratings.forEach((rating)=>{\n        const coachTeam = getCoachTeamForMatch(rating.match, teams);\n        const normalizedTeam = teams.find((t)=>t.toLowerCase().includes(coachTeam.toLowerCase()) || coachTeam.toLowerCase().includes(t.toLowerCase())) || teams[0];\n        if (teamStats.has(normalizedTeam)) {\n            teamStats.get(normalizedTeam).ratings.push(rating.rating);\n            teamStats.get(normalizedTeam).matches.add(rating.match.id);\n        }\n    });\n    return Array.from(teamStats.values()).filter((stats)=>stats.ratings.length > 0).map((stats)=>({\n            team: stats.team,\n            avgRating: Number((stats.ratings.reduce((sum, r)=>sum + r, 0) / stats.ratings.length).toFixed(2)),\n            matchCount: stats.matches.size,\n            ratingCount: stats.ratings.length\n        })).sort((a, b)=>b.avgRating - a.avgRating);\n}\n// Calculer l'historique mensuel (réutilisé)\nfunction calculateMonthlyHistory(ratings) {\n    const monthlyData = new Map();\n    ratings.forEach((rating)=>{\n        const date = new Date(rating.createdAt);\n        const monthKey = `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, \"0\")}`;\n        if (!monthlyData.has(monthKey)) {\n            monthlyData.set(monthKey, {\n                ratings: [],\n                matches: new Set()\n            });\n        }\n        monthlyData.get(monthKey).ratings.push(rating.rating);\n        monthlyData.get(monthKey).matches.add(rating.match.id);\n    });\n    return Array.from(monthlyData.entries()).map(([month, data])=>({\n            month,\n            avgRating: Number((data.ratings.reduce((sum, r)=>sum + r, 0) / data.ratings.length).toFixed(2)),\n            matchCount: data.matches.size\n        })).sort((a, b)=>a.month.localeCompare(b.month)).slice(-12);\n}\n// 🆕 Analyser les styles tactiques\nfunction calculateTacticalStylesBreakdown(coaches) {\n    return {\n        totalCoaches: coaches.length,\n        experienceBreakdown: {\n            veterans: coaches.filter((c)=>c.totalMatches >= 10).length,\n            experienced: coaches.filter((c)=>c.totalMatches >= 5 && c.totalMatches < 10).length,\n            emerging: coaches.filter((c)=>c.totalMatches < 5).length\n        },\n        ratingBreakdown: {\n            elite: coaches.filter((c)=>c.avgRating >= 8.5).length,\n            excellent: coaches.filter((c)=>c.avgRating >= 8 && c.avgRating < 8.5).length,\n            good: coaches.filter((c)=>c.avgRating >= 7 && c.avgRating < 8).length,\n            developing: coaches.filter((c)=>c.avgRating < 7).length\n        },\n        multiClubCoaches: coaches.filter((c)=>c.teams.length > 1).length\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsQ0FBQztBQUNaO0FBRUEsbUNBQW1DO0FBQ25DLFNBQVMrQixpQ0FBaUMrQyxPQUF3QjtJQUNoRSxPQUFPO1FBQ0xwRCxjQUFjb0QsUUFBUXZILE1BQU07UUFDNUJ3SCxxQkFBcUI7WUFDbkJDLFVBQVVGLFFBQVFSLE1BQU0sQ0FBQzNDLENBQUFBLElBQUtBLEVBQUVwQyxZQUFZLElBQUksSUFBSWhDLE1BQU07WUFDMUQwSCxhQUFhSCxRQUFRUixNQUFNLENBQUMzQyxDQUFBQSxJQUFLQSxFQUFFcEMsWUFBWSxJQUFJLEtBQUtvQyxFQUFFcEMsWUFBWSxHQUFHLElBQUloQyxNQUFNO1lBQ25GMkgsVUFBVUosUUFBUVIsTUFBTSxDQUFDM0MsQ0FBQUEsSUFBS0EsRUFBRXBDLFlBQVksR0FBRyxHQUFHaEMsTUFBTTtRQUMxRDtRQUNBNEgsaUJBQWlCO1lBQ2ZDLE9BQU9OLFFBQVFSLE1BQU0sQ0FBQzNDLENBQUFBLElBQUtBLEVBQUUvQyxTQUFTLElBQUksS0FBS3JCLE1BQU07WUFDckQ4SCxXQUFXUCxRQUFRUixNQUFNLENBQUMzQyxDQUFBQSxJQUFLQSxFQUFFL0MsU0FBUyxJQUFJLEtBQUsrQyxFQUFFL0MsU0FBUyxHQUFHLEtBQUtyQixNQUFNO1lBQzVFK0gsTUFBTVIsUUFBUVIsTUFBTSxDQUFDM0MsQ0FBQUEsSUFBS0EsRUFBRS9DLFNBQVMsSUFBSSxLQUFLK0MsRUFBRS9DLFNBQVMsR0FBRyxHQUFHckIsTUFBTTtZQUNyRWdJLFlBQVlULFFBQVFSLE1BQU0sQ0FBQzNDLENBQUFBLElBQUtBLEVBQUUvQyxTQUFTLEdBQUcsR0FBR3JCLE1BQU07UUFDekQ7UUFDQWlJLGtCQUFrQlYsUUFBUVIsTUFBTSxDQUFDM0MsQ0FBQUEsSUFBS0EsRUFBRTFELEtBQUssQ0FBQ1YsTUFBTSxHQUFHLEdBQUdBLE1BQU07SUFDbEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zvb3RyYXRlLy4vcGFnZXMvYXBpL2Nob2xpc21vLnRzPzY1NjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL2Nob2xpc21vLnRzIC0gQ2xhc3NlbWVudCBkZXMgbWVpbGxldXJzIGNvYWNoc1xuaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuLi8uLi9saWIvcHJpc21hJ1xuXG5pbnRlcmZhY2UgQ2hvbGlzbW9Db2FjaCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIG5vcm1hbGl6ZWROYW1lOiBzdHJpbmdcbiAgdGVhbXM6IHN0cmluZ1tdXG4gIHNwb3J0OiBzdHJpbmdcbiAgYXZnUmF0aW5nOiBudW1iZXJcbiAgdG90YWxSYXRpbmdzOiBudW1iZXJcbiAgdG90YWxNYXRjaGVzOiBudW1iZXJcbiAgYmVzdE1hdGNoOiB7XG4gICAgaWQ6IHN0cmluZ1xuICAgIHJhdGluZzogbnVtYmVyXG4gICAgaG9tZVRlYW06IHN0cmluZ1xuICAgIGF3YXlUZWFtOiBzdHJpbmdcbiAgICBkYXRlOiBzdHJpbmdcbiAgICBjb21wZXRpdGlvbjogc3RyaW5nXG4gICAgdGVhbTogc3RyaW5nXG4gIH1cbiAgcmVjZW50TWF0Y2hlczogQXJyYXk8e1xuICAgIG1hdGNoSWQ6IHN0cmluZ1xuICAgIHJhdGluZzogbnVtYmVyXG4gICAgY29tbWVudD86IHN0cmluZ1xuICAgIGhvbWVUZWFtOiBzdHJpbmdcbiAgICBhd2F5VGVhbTogc3RyaW5nXG4gICAgZGF0ZTogc3RyaW5nXG4gICAgY29tcGV0aXRpb246IHN0cmluZ1xuICAgIHRlYW06IHN0cmluZ1xuICB9PlxuICByYXRpbmdIaXN0b3J5OiBBcnJheTx7XG4gICAgbW9udGg6IHN0cmluZ1xuICAgIGF2Z1JhdGluZzogbnVtYmVyXG4gICAgbWF0Y2hDb3VudDogbnVtYmVyXG4gIH0+XG4gIHRlYW1CcmVha2Rvd246IEFycmF5PHtcbiAgICB0ZWFtOiBzdHJpbmdcbiAgICBhdmdSYXRpbmc6IG51bWJlclxuICAgIG1hdGNoQ291bnQ6IG51bWJlclxuICAgIHJhdGluZ0NvdW50OiBudW1iZXJcbiAgfT5cbiAgdGFjdGljYWxJbnNpZ2h0czoge1xuICAgIHN0cm9uZ2VzdFRlYW06IHN0cmluZ1xuICAgIGF2ZXJhZ2VCeUNvbXBldGl0aW9uOiBBcnJheTx7XG4gICAgICBjb21wZXRpdGlvbjogc3RyaW5nXG4gICAgICBhdmdSYXRpbmc6IG51bWJlclxuICAgICAgbWF0Y2hDb3VudDogbnVtYmVyXG4gICAgfT5cbiAgICB3aW5SYXRlOiBudW1iZXIgLy8gQmFzw6kgc3VyIGxlcyBtYXRjaHMgYXZlYyBub3RlcyA+PSA3XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgc3BvcnQgPSAnRk9PVEJBTEwnLCAvLyBQYXIgZMOpZmF1dCBmb290YmFsbCBwb3VyIENob2xpc21vXG4gICAgICBtaW5NYXRjaGVzID0gJzMnLFxuICAgICAgbGltaXQgPSAnNTAnLFxuICAgICAgcGVyaW9kID0gJ2FsbC10aW1lJ1xuICAgIH0gPSByZXEucXVlcnlcblxuICAgIGNvbnNvbGUubG9nKGDwn4+GIENhbGN1bCBDaG9saXNtbyBkdSBQZXVwbGUgLSBTcG9ydDogJHtzcG9ydH0sIE1pbiBtYXRjaHM6ICR7bWluTWF0Y2hlc31gKVxuXG4gICAgLy8gMS4gQ29uc3RydWlyZSBsZXMgZmlsdHJlcyBwb3VyIENPQUNIUyBVTklRVUVNRU5UXG4gICAgbGV0IHNwb3J0RmlsdGVyID0geyBzcG9ydDogc3BvcnQudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpIH1cbiAgICBcbiAgICAvLyAyLiBGaWx0cmUgcGFyIHDDqXJpb2RlXG4gICAgbGV0IGRhdGVGaWx0ZXIgPSB7fVxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgICBcbiAgICBzd2l0Y2ggKHBlcmlvZCkge1xuICAgICAgY2FzZSAndGhpcy15ZWFyJzpcbiAgICAgICAgY29uc3QgeWVhckFnbyA9IG5ldyBEYXRlKClcbiAgICAgICAgeWVhckFnby5zZXRGdWxsWWVhcihub3cuZ2V0RnVsbFllYXIoKSAtIDEpXG4gICAgICAgIGRhdGVGaWx0ZXIgPSB7IGNyZWF0ZWRBdDogeyBndGU6IHllYXJBZ28gfSB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd0aGlzLXNlYXNvbic6XG4gICAgICAgIGNvbnN0IHNlYXNvblN0YXJ0ID0gbmV3IERhdGUoKVxuICAgICAgICBzZWFzb25TdGFydC5zZXRNb250aCg4KSAvLyBTZXB0ZW1icmVcbiAgICAgICAgaWYgKG5vdy5nZXRNb250aCgpIDwgOCkge1xuICAgICAgICAgIHNlYXNvblN0YXJ0LnNldEZ1bGxZZWFyKG5vdy5nZXRGdWxsWWVhcigpIC0gMSlcbiAgICAgICAgfVxuICAgICAgICBkYXRlRmlsdGVyID0geyBjcmVhdGVkQXQ6IHsgZ3RlOiBzZWFzb25TdGFydCB9IH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2xhc3QtNi1tb250aHMnOlxuICAgICAgICBjb25zdCBzaXhNb250aHNBZ28gPSBuZXcgRGF0ZSgpXG4gICAgICAgIHNpeE1vbnRoc0Fnby5zZXRNb250aChub3cuZ2V0TW9udGgoKSAtIDYpXG4gICAgICAgIGRhdGVGaWx0ZXIgPSB7IGNyZWF0ZWRBdDogeyBndGU6IHNpeE1vbnRoc0FnbyB9IH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6IC8vICdhbGwtdGltZSdcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICAvLyAzLiBSw6ljdXDDqXJlciBVTklRVUVNRU5UIExFUyBDT0FDSFMgYXZlYyBsZXVycyBub3Rlc1xuICAgIGNvbnN0IGNvYWNoZXNXaXRoUmF0aW5ncyA9IGF3YWl0IHByaXNtYS5wbGF5ZXIuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgLi4uc3BvcnRGaWx0ZXIsXG4gICAgICAgIHBvc2l0aW9uOiAnQ09BQ0gnLCAvLyDwn5SRIFVOSVFVRU1FTlQgTEVTIENPQUNIU1xuICAgICAgICByYXRpbmdzOiB7XG4gICAgICAgICAgc29tZTogZGF0ZUZpbHRlclxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICByYXRpbmdzOiB7XG4gICAgICAgICAgd2hlcmU6IGRhdGVGaWx0ZXIsXG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaG9tZVRlYW06IHRydWUsXG4gICAgICAgICAgICAgICAgYXdheVRlYW06IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb21wZXRpdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzcG9ydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBob21lU2NvcmU6IHRydWUsXG4gICAgICAgICAgICAgICAgYXdheVNjb3JlOiB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coYPCfkajigI3wn5K8ICR7Y29hY2hlc1dpdGhSYXRpbmdzLmxlbmd0aH0gY29hY2hzIGJydXRzIHLDqWN1cMOpcsOpc2ApXG5cbiAgICAvLyA0LiDwn6egIEZVU0lPTiBJTlRFTExJR0VOVEUgREVTIENPQUNIUyAobcOqbWUgbG9naXF1ZSBxdWUgam91ZXVycylcbiAgICBjb25zdCBmdXNlZENvYWNoZXMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpXG5cbiAgICBmb3IgKGNvbnN0IGNvYWNoIG9mIGNvYWNoZXNXaXRoUmF0aW5ncykge1xuICAgICAgaWYgKGNvYWNoLnJhdGluZ3MubGVuZ3RoID09PSAwKSBjb250aW51ZVxuXG4gICAgICAvLyBOb3JtYWxpc2VyIGxlIG5vbSBwb3VyIGxhIGZ1c2lvblxuICAgICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBub3JtYWxpemVDb2FjaE5hbWUoY29hY2gubmFtZSlcbiAgICAgIFxuICAgICAgLy8gU2kgbGUgY29hY2ggZXhpc3RlIGTDqWrDoCAobcOqbWUgbm9tIG5vcm1hbGlzw6kpLCBmdXNpb25uZXJcbiAgICAgIGlmIChmdXNlZENvYWNoZXMuaGFzKG5vcm1hbGl6ZWROYW1lKSkge1xuICAgICAgICBjb25zdCBleGlzdGluZ0NvYWNoID0gZnVzZWRDb2FjaGVzLmdldChub3JtYWxpemVkTmFtZSlcbiAgICAgICAgXG4gICAgICAgIC8vIEZ1c2lvbm5lciBsZXMgZG9ubsOpZXNcbiAgICAgICAgZXhpc3RpbmdDb2FjaC5yYXRpbmdzLnB1c2goLi4uY29hY2gucmF0aW5ncylcbiAgICAgICAgZXhpc3RpbmdDb2FjaC50ZWFtcy5hZGQoY29hY2gudGVhbSlcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SXIEZ1c2lvbiBjb2FjaDogJHtjb2FjaC5uYW1lfSAoJHtjb2FjaC50ZWFtfSkgYXZlYyAke2V4aXN0aW5nQ29hY2gubmFtZX1gKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm91dmVhdSBjb2FjaFxuICAgICAgICBmdXNlZENvYWNoZXMuc2V0KG5vcm1hbGl6ZWROYW1lLCB7XG4gICAgICAgICAgb3JpZ2luYWxJZDogY29hY2guaWQsXG4gICAgICAgICAgbmFtZTogY29hY2gubmFtZSwgLy8gR2FyZGVyIGxlIG5vbSBvcmlnaW5hbCBkdSBwcmVtaWVyXG4gICAgICAgICAgbm9ybWFsaXplZE5hbWUsXG4gICAgICAgICAgc3BvcnQ6IGNvYWNoLnNwb3J0LFxuICAgICAgICAgIHRlYW1zOiBuZXcgU2V0KFtjb2FjaC50ZWFtXSksXG4gICAgICAgICAgcmF0aW5nczogWy4uLmNvYWNoLnJhdGluZ3NdXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCflJcgQXByw6hzIGZ1c2lvbjogJHtmdXNlZENvYWNoZXMuc2l6ZX0gY29hY2hzIHVuaXF1ZXNgKVxuXG4gICAgLy8gNS4gQ2FsY3VsZXIgbGVzIHN0YXRpc3RpcXVlcyBwb3VyIGNoYXF1ZSBjb2FjaCBmdXNpb25uw6lcbiAgICBjb25zdCBjaG9saXNtb0NhbmRpZGF0ZXM6IENob2xpc21vQ29hY2hbXSA9IFtdXG5cbiAgICBmb3IgKGNvbnN0IFtub3JtYWxpemVkTmFtZSwgZnVzZWRDb2FjaF0gb2YgZnVzZWRDb2FjaGVzLmVudHJpZXMoKSkge1xuICAgICAgY29uc3QgcmF0aW5ncyA9IGZ1c2VkQ29hY2gucmF0aW5nc1xuICAgICAgXG4gICAgICBpZiAocmF0aW5ncy5sZW5ndGggPCBwYXJzZUludChtaW5NYXRjaGVzLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIENhbGN1bGVyIGxhIG1veWVubmUgZ2xvYmFsZVxuICAgICAgY29uc3QgYXZnUmF0aW5nID0gcmF0aW5ncy5yZWR1Y2UoKHN1bTogbnVtYmVyLCByOiBhbnkpID0+IHN1bSArIHIucmF0aW5nLCAwKSAvIHJhdGluZ3MubGVuZ3RoXG4gICAgICBcbiAgICAgIC8vIFRyb3V2ZXIgbGUgbWVpbGxldXIgbWF0Y2hcbiAgICAgIGNvbnN0IGJlc3RSYXRpbmcgPSByYXRpbmdzLnJlZHVjZSgoYmVzdDogYW55LCBjdXJyZW50OiBhbnkpID0+IFxuICAgICAgICBjdXJyZW50LnJhdGluZyA+IGJlc3QucmF0aW5nID8gY3VycmVudCA6IGJlc3RcbiAgICAgIClcblxuICAgICAgLy8gUsOpY3Vww6lyZXIgbGVzIG1hdGNocyB1bmlxdWVzIGF2ZWMgbW95ZW5uZSBwYXIgbWF0Y2hcbiAgICAgIGNvbnN0IHVuaXF1ZU1hdGNoZXMgPSBuZXcgTWFwKClcbiAgICAgIHJhdGluZ3MuZm9yRWFjaCgocmF0aW5nOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hJZCA9IHJhdGluZy5tYXRjaC5pZFxuICAgICAgICBpZiAoIXVuaXF1ZU1hdGNoZXMuaGFzKG1hdGNoSWQpKSB7XG4gICAgICAgICAgdW5pcXVlTWF0Y2hlcy5zZXQobWF0Y2hJZCwge1xuICAgICAgICAgICAgbWF0Y2g6IHJhdGluZy5tYXRjaCxcbiAgICAgICAgICAgIHJhdGluZ3M6IFtdXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB1bmlxdWVNYXRjaGVzLmdldChtYXRjaElkKS5yYXRpbmdzLnB1c2gocmF0aW5nKVxuICAgICAgfSlcblxuICAgICAgY29uc3QgdG90YWxNYXRjaGVzID0gdW5pcXVlTWF0Y2hlcy5zaXplXG5cbiAgICAgIC8vIENhbGN1bGVyIGxlcyA1IG1hdGNocyBsZXMgcGx1cyByw6ljZW50c1xuICAgICAgY29uc3QgcmVjZW50TWF0Y2hlcyA9IEFycmF5LmZyb20odW5pcXVlTWF0Y2hlcy52YWx1ZXMoKSlcbiAgICAgICAgLnNvcnQoKGE6IGFueSwgYjogYW55KSA9PiBuZXcgRGF0ZShiLm1hdGNoLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEubWF0Y2guZGF0ZSkuZ2V0VGltZSgpKVxuICAgICAgICAuc2xpY2UoMCwgNSlcbiAgICAgICAgLm1hcCgobWF0Y2hEYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBtYXRjaEF2Z1JhdGluZyA9IG1hdGNoRGF0YS5yYXRpbmdzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHI6IGFueSkgPT4gc3VtICsgci5yYXRpbmcsIDApIC8gbWF0Y2hEYXRhLnJhdGluZ3MubGVuZ3RoXG4gICAgICAgICAgY29uc3QgYmVzdENvbW1lbnQgPSBtYXRjaERhdGEucmF0aW5ncy5maW5kKChyOiBhbnkpID0+IHIuY29tbWVudCk/LmNvbW1lbnRcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEw6l0ZXJtaW5lciBsJ8OpcXVpcGUgZHUgY29hY2ggcG91ciBjZSBtYXRjaFxuICAgICAgICAgIGNvbnN0IGNvYWNoVGVhbSA9IGdldENvYWNoVGVhbUZvck1hdGNoKG1hdGNoRGF0YS5tYXRjaCwgQXJyYXkuZnJvbShmdXNlZENvYWNoLnRlYW1zKSlcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF0Y2hJZDogbWF0Y2hEYXRhLm1hdGNoLmlkLFxuICAgICAgICAgICAgcmF0aW5nOiBOdW1iZXIobWF0Y2hBdmdSYXRpbmcudG9GaXhlZCgxKSksXG4gICAgICAgICAgICBjb21tZW50OiBiZXN0Q29tbWVudCxcbiAgICAgICAgICAgIGhvbWVUZWFtOiBtYXRjaERhdGEubWF0Y2guaG9tZVRlYW0sXG4gICAgICAgICAgICBhd2F5VGVhbTogbWF0Y2hEYXRhLm1hdGNoLmF3YXlUZWFtLFxuICAgICAgICAgICAgZGF0ZTogbWF0Y2hEYXRhLm1hdGNoLmRhdGUsXG4gICAgICAgICAgICBjb21wZXRpdGlvbjogbWF0Y2hEYXRhLm1hdGNoLmNvbXBldGl0aW9uLFxuICAgICAgICAgICAgdGVhbTogY29hY2hUZWFtXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAvLyBDYWxjdWxlciBsJ2hpc3RvcmlxdWUgbWVuc3VlbFxuICAgICAgY29uc3QgcmF0aW5nSGlzdG9yeSA9IGNhbGN1bGF0ZU1vbnRobHlIaXN0b3J5KHJhdGluZ3MpXG5cbiAgICAgIC8vIENhbGN1bGVyIGxhIHLDqXBhcnRpdGlvbiBwYXIgw6lxdWlwZVxuICAgICAgY29uc3QgdGVhbUJyZWFrZG93biA9IGNhbGN1bGF0ZVRlYW1CcmVha2Rvd24ocmF0aW5ncywgQXJyYXkuZnJvbShmdXNlZENvYWNoLnRlYW1zKSlcblxuICAgICAgLy8g8J+noCBJTlNJR0hUUyBUQUNUSVFVRVMgU1DDiUNJRklRVUVTIEFVWCBDT0FDSFNcbiAgICAgIGNvbnN0IHRhY3RpY2FsSW5zaWdodHMgPSBjYWxjdWxhdGVUYWN0aWNhbEluc2lnaHRzKHJhdGluZ3MsIEFycmF5LmZyb20oZnVzZWRDb2FjaC50ZWFtcyksIHVuaXF1ZU1hdGNoZXMpXG5cbiAgICAgIC8vIETDqXRlcm1pbmVyIGwnw6lxdWlwZSBkdSBtZWlsbGV1ciBtYXRjaFxuICAgICAgY29uc3QgYmVzdE1hdGNoVGVhbSA9IGdldENvYWNoVGVhbUZvck1hdGNoKGJlc3RSYXRpbmcubWF0Y2gsIEFycmF5LmZyb20oZnVzZWRDb2FjaC50ZWFtcykpXG5cbiAgICAgIGNob2xpc21vQ2FuZGlkYXRlcy5wdXNoKHtcbiAgICAgICAgaWQ6IGBjb2FjaF9mdXNlZF8ke25vcm1hbGl6ZWROYW1lfWAsXG4gICAgICAgIG5hbWU6IGZ1c2VkQ29hY2gubmFtZSxcbiAgICAgICAgbm9ybWFsaXplZE5hbWUsXG4gICAgICAgIHRlYW1zOiBBcnJheS5mcm9tKGZ1c2VkQ29hY2gudGVhbXMpLFxuICAgICAgICBzcG9ydDogZnVzZWRDb2FjaC5zcG9ydCxcbiAgICAgICAgYXZnUmF0aW5nOiBOdW1iZXIoYXZnUmF0aW5nLnRvRml4ZWQoMikpLFxuICAgICAgICB0b3RhbFJhdGluZ3M6IHJhdGluZ3MubGVuZ3RoLFxuICAgICAgICB0b3RhbE1hdGNoZXMsXG4gICAgICAgIGJlc3RNYXRjaDoge1xuICAgICAgICAgIGlkOiBiZXN0UmF0aW5nLm1hdGNoLmlkLFxuICAgICAgICAgIHJhdGluZzogYmVzdFJhdGluZy5yYXRpbmcsXG4gICAgICAgICAgaG9tZVRlYW06IGJlc3RSYXRpbmcubWF0Y2guaG9tZVRlYW0sXG4gICAgICAgICAgYXdheVRlYW06IGJlc3RSYXRpbmcubWF0Y2guYXdheVRlYW0sXG4gICAgICAgICAgZGF0ZTogYmVzdFJhdGluZy5tYXRjaC5kYXRlLFxuICAgICAgICAgIGNvbXBldGl0aW9uOiBiZXN0UmF0aW5nLm1hdGNoLmNvbXBldGl0aW9uLFxuICAgICAgICAgIHRlYW06IGJlc3RNYXRjaFRlYW1cbiAgICAgICAgfSxcbiAgICAgICAgcmVjZW50TWF0Y2hlcyxcbiAgICAgICAgcmF0aW5nSGlzdG9yeSxcbiAgICAgICAgdGVhbUJyZWFrZG93bixcbiAgICAgICAgdGFjdGljYWxJbnNpZ2h0c1xuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyA2LiBUcmllciBwYXIgbW95ZW5uZSBkZXMgbm90ZXMgKGF2ZWMgYm9udXMgcG91ciBsJ2V4cMOpcmllbmNlKVxuICAgIGNob2xpc21vQ2FuZGlkYXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAvLyBCb251cyBsw6lnZXIgcG91ciBsJ2V4cMOpcmllbmNlIChwbHVzIGRlIG1hdGNocylcbiAgICAgIGNvbnN0IGFTY29yZSA9IGEuYXZnUmF0aW5nICsgKE1hdGgubG9nKGEudG90YWxNYXRjaGVzKSAqIDAuMDUpXG4gICAgICBjb25zdCBiU2NvcmUgPSBiLmF2Z1JhdGluZyArIChNYXRoLmxvZyhiLnRvdGFsTWF0Y2hlcykgKiAwLjA1KVxuICAgICAgXG4gICAgICBpZiAoTWF0aC5hYnMoYVNjb3JlIC0gYlNjb3JlKSA8IDAuMDEpIHtcbiAgICAgICAgcmV0dXJuIGIudG90YWxNYXRjaGVzIC0gYS50b3RhbE1hdGNoZXNcbiAgICAgIH1cbiAgICAgIHJldHVybiBiU2NvcmUgLSBhU2NvcmVcbiAgICB9KVxuXG4gICAgLy8gNy4gTGltaXRlciBsZXMgcsOpc3VsdGF0c1xuICAgIGNvbnN0IHRvcENvYWNoZXMgPSBjaG9saXNtb0NhbmRpZGF0ZXMuc2xpY2UoMCwgcGFyc2VJbnQobGltaXQudG9TdHJpbmcoKSkpXG5cbiAgICAvLyA4LiBTdGF0aXN0aXF1ZXMgZ2xvYmFsZXNcbiAgICBjb25zdCBnbG9iYWxTdGF0cyA9IHtcbiAgICAgIHRvdGFsQ29hY2hlczogY2hvbGlzbW9DYW5kaWRhdGVzLmxlbmd0aCxcbiAgICAgIHRvdGFsUmF0aW5nczogY2hvbGlzbW9DYW5kaWRhdGVzLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLnRvdGFsUmF0aW5ncywgMCksXG4gICAgICB0b3RhbE1hdGNoZXM6IGNob2xpc21vQ2FuZGlkYXRlcy5yZWR1Y2UoKHN1bSwgYykgPT4gc3VtICsgYy50b3RhbE1hdGNoZXMsIDApLFxuICAgICAgYXZnUmF0aW5nR2xvYmFsOiBjaG9saXNtb0NhbmRpZGF0ZXMubGVuZ3RoID4gMCBcbiAgICAgICAgPyBjaG9saXNtb0NhbmRpZGF0ZXMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIGMuYXZnUmF0aW5nLCAwKSAvIGNob2xpc21vQ2FuZGlkYXRlcy5sZW5ndGggXG4gICAgICAgIDogMCxcbiAgICAgIHRvcFJhdGluZzogdG9wQ29hY2hlc1swXT8uYXZnUmF0aW5nIHx8IDAsXG4gICAgICB0YWN0aWNhbFN0eWxlc0JyZWFrZG93bjogY2FsY3VsYXRlVGFjdGljYWxTdHlsZXNCcmVha2Rvd24odG9wQ29hY2hlcyksXG4gICAgICBmdXNpb25TdGF0czoge1xuICAgICAgICBvcmlnaW5hbENvYWNoZXM6IGNvYWNoZXNXaXRoUmF0aW5ncy5sZW5ndGgsXG4gICAgICAgIGZ1c2VkQ29hY2hlczogY2hvbGlzbW9DYW5kaWRhdGVzLmxlbmd0aCxcbiAgICAgICAgZnVzaW9uUmVkdWN0aW9uOiBjb2FjaGVzV2l0aFJhdGluZ3MubGVuZ3RoIC0gY2hvbGlzbW9DYW5kaWRhdGVzLmxlbmd0aFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGDwn5Go4oCN8J+SvCBDaG9saXNtbyBkdSBQZXVwbGUgY2FsY3Vsw6k6YClcbiAgICBjb25zb2xlLmxvZyhgICAgLSAke2NvYWNoZXNXaXRoUmF0aW5ncy5sZW5ndGh9IGNvYWNocyBvcmlnaW5hdXhgKVxuICAgIGNvbnNvbGUubG9nKGAgICAtICR7Y2hvbGlzbW9DYW5kaWRhdGVzLmxlbmd0aH0gY29hY2hzIGFwcsOocyBmdXNpb25gKVxuICAgIGNvbnNvbGUubG9nKGAgICAtIExlYWRlcjogJHt0b3BDb2FjaGVzWzBdPy5uYW1lfSAoJHt0b3BDb2FjaGVzWzBdPy5hdmdSYXRpbmd9LzEwKWApXG4gICAgY29uc29sZS5sb2coYCAgIC0gw4lxdWlwZXM6ICR7dG9wQ29hY2hlc1swXT8udGVhbXMuam9pbignLCAnKX1gKVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGNob2xpc21vOiB0b3BDb2FjaGVzLFxuICAgICAgc3RhdHM6IGdsb2JhbFN0YXRzLFxuICAgICAgZmlsdGVyczoge1xuICAgICAgICBzcG9ydCxcbiAgICAgICAgcGVyaW9kLFxuICAgICAgICBtaW5NYXRjaGVzOiBwYXJzZUludChtaW5NYXRjaGVzLnRvU3RyaW5nKCkpXG4gICAgICB9XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJldXIgQ2hvbGlzbW8gZHUgUGV1cGxlOicsIGVycm9yKVxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdFcnJldXIgc2VydmV1cicsXG4gICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJldXIgaW5jb25udWUnXG4gICAgfSlcbiAgfVxufVxuXG4vLyDwn6egIEZvbmN0aW9uIGRlIG5vcm1hbGlzYXRpb24gZGVzIG5vbXMgZGUgY29hY2hzXG5mdW5jdGlvbiBub3JtYWxpemVDb2FjaE5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IG5vcm1hbGl6ZWQgPSBuYW1lXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAudHJpbSgpXG4gICAgLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Zl0vZywgJycpXG4gICAgLnJlcGxhY2UoL1teYS16XFxzLV0vZywgJycpXG4gICAgLnJlcGxhY2UoL1xccysvZywgJyAnKVxuICAgIC50cmltKClcblxuICAvLyBNYXBwaW5ncyBzcMOpY2lhdXggcG91ciBsZXMgY29hY2hzIGPDqWzDqGJyZXNcbiAgY29uc3QgY29hY2hNYXBwaW5ncyA9IHtcbiAgICAncCBndWFyZGlvbGEnOiAncGVwIGd1YXJkaW9sYScsXG4gICAgJ3BlcCBndWFyZGlvbGEnOiAncGVwIGd1YXJkaW9sYScsXG4gICAgJ2ogbW91cmluaG8nOiAnam9zZSBtb3VyaW5obycsXG4gICAgJ2pvc2UgbW91cmluaG8nOiAnam9zZSBtb3VyaW5obycsXG4gICAgJ2MgYW5jZWxvdHRpJzogJ2NhcmxvIGFuY2Vsb3R0aScsXG4gICAgJ2NhcmxvIGFuY2Vsb3R0aSc6ICdjYXJsbyBhbmNlbG90dGknLFxuICAgICdqIGtsb3BwJzogJ2p1cmdlbiBrbG9wcCcsXG4gICAgJ2p1cmdlbiBrbG9wcCc6ICdqdXJnZW4ga2xvcHAnLFxuICAgICdkIHNpbWVvbmUnOiAnZGllZ28gc2ltZW9uZScsXG4gICAgJ2RpZWdvIHNpbWVvbmUnOiAnZGllZ28gc2ltZW9uZSdcbiAgfVxuXG4gIGlmIChjb2FjaE1hcHBpbmdzW25vcm1hbGl6ZWRdKSB7XG4gICAgbm9ybWFsaXplZCA9IGNvYWNoTWFwcGluZ3Nbbm9ybWFsaXplZF1cbiAgfVxuXG4gIGNvbnNvbGUubG9nKGDwn5SNIE5vcm1hbGlzYXRpb24gY29hY2g6IFwiJHtuYW1lfVwiIC0+IFwiJHtub3JtYWxpemVkfVwiYClcbiAgcmV0dXJuIG5vcm1hbGl6ZWRcbn1cblxuLy8gRm9uY3Rpb24gcG91ciBkw6l0ZXJtaW5lciBsJ8OpcXVpcGUgZHUgY29hY2ggZGFucyB1biBtYXRjaFxuZnVuY3Rpb24gZ2V0Q29hY2hUZWFtRm9yTWF0Y2gobWF0Y2g6IGFueSwgY29hY2hUZWFtczogc3RyaW5nW10pOiBzdHJpbmcge1xuICBjb25zdCBob21lVGVhbSA9IG1hdGNoLmhvbWVUZWFtLnRvTG93ZXJDYXNlKClcbiAgY29uc3QgYXdheVRlYW0gPSBtYXRjaC5hd2F5VGVhbS50b0xvd2VyQ2FzZSgpXG4gIFxuICBmb3IgKGNvbnN0IHRlYW0gb2YgY29hY2hUZWFtcykge1xuICAgIGNvbnN0IHRlYW1Mb3dlciA9IHRlYW0udG9Mb3dlckNhc2UoKVxuICAgIFxuICAgIGlmIChob21lVGVhbS5pbmNsdWRlcyh0ZWFtTG93ZXIpIHx8IHRlYW1Mb3dlci5pbmNsdWRlcyhob21lVGVhbS5zcGxpdCgnICcpWzBdKSkge1xuICAgICAgcmV0dXJuIG1hdGNoLmhvbWVUZWFtXG4gICAgfVxuICAgIGlmIChhd2F5VGVhbS5pbmNsdWRlcyh0ZWFtTG93ZXIpIHx8IHRlYW1Mb3dlci5pbmNsdWRlcyhhd2F5VGVhbS5zcGxpdCgnICcpWzBdKSkge1xuICAgICAgcmV0dXJuIG1hdGNoLmF3YXlUZWFtXG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gY29hY2hUZWFtc1swXSB8fCAnw4lxdWlwZSBpbmNvbm51ZSdcbn1cblxuLy8g8J+noCBDYWxjdWwgZGVzIGluc2lnaHRzIHRhY3RpcXVlcyBzcMOpY2lmaXF1ZXMgYXV4IGNvYWNoc1xuZnVuY3Rpb24gY2FsY3VsYXRlVGFjdGljYWxJbnNpZ2h0cyhyYXRpbmdzOiBhbnlbXSwgdGVhbXM6IHN0cmluZ1tdLCB1bmlxdWVNYXRjaGVzOiBNYXA8YW55LCBhbnk+KSB7XG4gIC8vIMOJcXVpcGUgbGEgcGx1cyBmb3J0ZSAobWVpbGxldXJlIG1veWVubmUpXG4gIGNvbnN0IHRlYW1TdGF0cyA9IG5ldyBNYXAoKVxuICB0ZWFtcy5mb3JFYWNoKHRlYW0gPT4ge1xuICAgIHRlYW1TdGF0cy5zZXQodGVhbSwgeyByYXRpbmdzOiBbXSwgd2luczogMCwgdG90YWw6IDAgfSlcbiAgfSlcbiAgXG4gIC8vIEFuYWx5c2VyIGNoYXF1ZSBtYXRjaFxuICBBcnJheS5mcm9tKHVuaXF1ZU1hdGNoZXMudmFsdWVzKCkpLmZvckVhY2goKG1hdGNoRGF0YTogYW55KSA9PiB7XG4gICAgY29uc3QgbWF0Y2ggPSBtYXRjaERhdGEubWF0Y2hcbiAgICBjb25zdCBtYXRjaFJhdGluZ3MgPSBtYXRjaERhdGEucmF0aW5nc1xuICAgIGNvbnN0IGF2Z01hdGNoUmF0aW5nID0gbWF0Y2hSYXRpbmdzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHI6IGFueSkgPT4gc3VtICsgci5yYXRpbmcsIDApIC8gbWF0Y2hSYXRpbmdzLmxlbmd0aFxuICAgIFxuICAgIGNvbnN0IGNvYWNoVGVhbSA9IGdldENvYWNoVGVhbUZvck1hdGNoKG1hdGNoLCB0ZWFtcylcbiAgICBjb25zdCBub3JtYWxpemVkVGVhbSA9IHRlYW1zLmZpbmQodCA9PiBcbiAgICAgIHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb2FjaFRlYW0udG9Mb3dlckNhc2UoKSkgfHwgXG4gICAgICBjb2FjaFRlYW0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpXG4gICAgKSB8fCB0ZWFtc1swXVxuICAgIFxuICAgIGlmICh0ZWFtU3RhdHMuaGFzKG5vcm1hbGl6ZWRUZWFtKSkge1xuICAgICAgdGVhbVN0YXRzLmdldChub3JtYWxpemVkVGVhbSkucmF0aW5ncy5wdXNoKGF2Z01hdGNoUmF0aW5nKVxuICAgICAgdGVhbVN0YXRzLmdldChub3JtYWxpemVkVGVhbSkudG90YWwrK1xuICAgICAgXG4gICAgICAvLyBDb25zaWTDqXJlciBjb21tZSBcInZpY3RvaXJlIHRhY3RpcXVlXCIgc2kgbm90ZSA+PSA3XG4gICAgICBpZiAoYXZnTWF0Y2hSYXRpbmcgPj0gNykge1xuICAgICAgICB0ZWFtU3RhdHMuZ2V0KG5vcm1hbGl6ZWRUZWFtKS53aW5zKytcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLy8gVHJvdXZlciBsJ8OpcXVpcGUgbGEgcGx1cyBmb3J0ZVxuICBsZXQgc3Ryb25nZXN0VGVhbSA9IHRlYW1zWzBdXG4gIGxldCBiZXN0QXZnID0gMFxuICBcbiAgZm9yIChjb25zdCBbdGVhbSwgc3RhdHNdIG9mIHRlYW1TdGF0cy5lbnRyaWVzKCkpIHtcbiAgICBpZiAoc3RhdHMucmF0aW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBhdmcgPSBzdGF0cy5yYXRpbmdzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHI6IG51bWJlcikgPT4gc3VtICsgciwgMCkgLyBzdGF0cy5yYXRpbmdzLmxlbmd0aFxuICAgICAgaWYgKGF2ZyA+IGJlc3RBdmcpIHtcbiAgICAgICAgYmVzdEF2ZyA9IGF2Z1xuICAgICAgICBzdHJvbmdlc3RUZWFtID0gdGVhbVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE1veWVubmUgcGFyIGNvbXDDqXRpdGlvblxuICBjb25zdCBjb21wZXRpdGlvblN0YXRzID0gbmV3IE1hcCgpXG4gIHJhdGluZ3MuZm9yRWFjaChyYXRpbmcgPT4ge1xuICAgIGNvbnN0IGNvbXAgPSByYXRpbmcubWF0Y2guY29tcGV0aXRpb25cbiAgICBpZiAoIWNvbXBldGl0aW9uU3RhdHMuaGFzKGNvbXApKSB7XG4gICAgICBjb21wZXRpdGlvblN0YXRzLnNldChjb21wLCB7IHJhdGluZ3M6IFtdLCBtYXRjaGVzOiBuZXcgU2V0KCkgfSlcbiAgICB9XG4gICAgY29tcGV0aXRpb25TdGF0cy5nZXQoY29tcCkucmF0aW5ncy5wdXNoKHJhdGluZy5yYXRpbmcpXG4gICAgY29tcGV0aXRpb25TdGF0cy5nZXQoY29tcCkubWF0Y2hlcy5hZGQocmF0aW5nLm1hdGNoLmlkKVxuICB9KVxuXG4gIGNvbnN0IGF2ZXJhZ2VCeUNvbXBldGl0aW9uID0gQXJyYXkuZnJvbShjb21wZXRpdGlvblN0YXRzLmVudHJpZXMoKSlcbiAgICAubWFwKChbY29tcGV0aXRpb24sIGRhdGFdKSA9PiAoe1xuICAgICAgY29tcGV0aXRpb24sXG4gICAgICBhdmdSYXRpbmc6IE51bWJlcigoZGF0YS5yYXRpbmdzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHI6IG51bWJlcikgPT4gc3VtICsgciwgMCkgLyBkYXRhLnJhdGluZ3MubGVuZ3RoKS50b0ZpeGVkKDIpKSxcbiAgICAgIG1hdGNoQ291bnQ6IGRhdGEubWF0Y2hlcy5zaXplXG4gICAgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuYXZnUmF0aW5nIC0gYS5hdmdSYXRpbmcpXG4gICAgLnNsaWNlKDAsIDUpXG5cbiAgLy8gVGF1eCBkZSBcInZpY3RvaXJlcyB0YWN0aXF1ZXNcIiBnbG9iYWxcbiAgY29uc3QgdG90YWxHb29kTWF0Y2hlcyA9IEFycmF5LmZyb20odW5pcXVlTWF0Y2hlcy52YWx1ZXMoKSkuZmlsdGVyKChtYXRjaERhdGE6IGFueSkgPT4ge1xuICAgIGNvbnN0IGF2Z1JhdGluZyA9IG1hdGNoRGF0YS5yYXRpbmdzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHI6IGFueSkgPT4gc3VtICsgci5yYXRpbmcsIDApIC8gbWF0Y2hEYXRhLnJhdGluZ3MubGVuZ3RoXG4gICAgcmV0dXJuIGF2Z1JhdGluZyA+PSA3XG4gIH0pLmxlbmd0aFxuICBcbiAgY29uc3Qgd2luUmF0ZSA9IHVuaXF1ZU1hdGNoZXMuc2l6ZSA+IDAgPyAodG90YWxHb29kTWF0Y2hlcyAvIHVuaXF1ZU1hdGNoZXMuc2l6ZSkgKiAxMDAgOiAwXG5cbiAgcmV0dXJuIHtcbiAgICBzdHJvbmdlc3RUZWFtLFxuICAgIGF2ZXJhZ2VCeUNvbXBldGl0aW9uLFxuICAgIHdpblJhdGU6IE51bWJlcih3aW5SYXRlLnRvRml4ZWQoMSkpXG4gIH1cbn1cblxuLy8gQ2FsY3VsZXIgbGEgcsOpcGFydGl0aW9uIHBhciDDqXF1aXBlIChyw6l1dGlsaXPDqSlcbmZ1bmN0aW9uIGNhbGN1bGF0ZVRlYW1CcmVha2Rvd24ocmF0aW5nczogYW55W10sIHRlYW1zOiBzdHJpbmdbXSkge1xuICBjb25zdCB0ZWFtU3RhdHMgPSBuZXcgTWFwKClcbiAgXG4gIHRlYW1zLmZvckVhY2godGVhbSA9PiB7XG4gICAgdGVhbVN0YXRzLnNldCh0ZWFtLCB7XG4gICAgICB0ZWFtLFxuICAgICAgcmF0aW5nczogW10sXG4gICAgICBtYXRjaGVzOiBuZXcgU2V0KClcbiAgICB9KVxuICB9KVxuICBcbiAgcmF0aW5ncy5mb3JFYWNoKHJhdGluZyA9PiB7XG4gICAgY29uc3QgY29hY2hUZWFtID0gZ2V0Q29hY2hUZWFtRm9yTWF0Y2gocmF0aW5nLm1hdGNoLCB0ZWFtcylcbiAgICBjb25zdCBub3JtYWxpemVkVGVhbSA9IHRlYW1zLmZpbmQodCA9PiBcbiAgICAgIHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb2FjaFRlYW0udG9Mb3dlckNhc2UoKSkgfHwgXG4gICAgICBjb2FjaFRlYW0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpXG4gICAgKSB8fCB0ZWFtc1swXVxuICAgIFxuICAgIGlmICh0ZWFtU3RhdHMuaGFzKG5vcm1hbGl6ZWRUZWFtKSkge1xuICAgICAgdGVhbVN0YXRzLmdldChub3JtYWxpemVkVGVhbSkucmF0aW5ncy5wdXNoKHJhdGluZy5yYXRpbmcpXG4gICAgICB0ZWFtU3RhdHMuZ2V0KG5vcm1hbGl6ZWRUZWFtKS5tYXRjaGVzLmFkZChyYXRpbmcubWF0Y2guaWQpXG4gICAgfVxuICB9KVxuICBcbiAgcmV0dXJuIEFycmF5LmZyb20odGVhbVN0YXRzLnZhbHVlcygpKVxuICAgIC5maWx0ZXIoc3RhdHMgPT4gc3RhdHMucmF0aW5ncy5sZW5ndGggPiAwKVxuICAgIC5tYXAoc3RhdHMgPT4gKHtcbiAgICAgIHRlYW06IHN0YXRzLnRlYW0sXG4gICAgICBhdmdSYXRpbmc6IE51bWJlcigoc3RhdHMucmF0aW5ncy5yZWR1Y2UoKHN1bTogbnVtYmVyLCByOiBudW1iZXIpID0+IHN1bSArIHIsIDApIC8gc3RhdHMucmF0aW5ncy5sZW5ndGgpLnRvRml4ZWQoMikpLFxuICAgICAgbWF0Y2hDb3VudDogc3RhdHMubWF0Y2hlcy5zaXplLFxuICAgICAgcmF0aW5nQ291bnQ6IHN0YXRzLnJhdGluZ3MubGVuZ3RoXG4gICAgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuYXZnUmF0aW5nIC0gYS5hdmdSYXRpbmcpXG59XG5cbi8vIENhbGN1bGVyIGwnaGlzdG9yaXF1ZSBtZW5zdWVsIChyw6l1dGlsaXPDqSlcbmZ1bmN0aW9uIGNhbGN1bGF0ZU1vbnRobHlIaXN0b3J5KHJhdGluZ3M6IGFueVtdKTogQXJyYXk8e21vbnRoOiBzdHJpbmcsIGF2Z1JhdGluZzogbnVtYmVyLCBtYXRjaENvdW50OiBudW1iZXJ9PiB7XG4gIGNvbnN0IG1vbnRobHlEYXRhID0gbmV3IE1hcCgpXG4gIFxuICByYXRpbmdzLmZvckVhY2gocmF0aW5nID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUocmF0aW5nLmNyZWF0ZWRBdClcbiAgICBjb25zdCBtb250aEtleSA9IGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHsoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWBcbiAgICBcbiAgICBpZiAoIW1vbnRobHlEYXRhLmhhcyhtb250aEtleSkpIHtcbiAgICAgIG1vbnRobHlEYXRhLnNldChtb250aEtleSwge1xuICAgICAgICByYXRpbmdzOiBbXSxcbiAgICAgICAgbWF0Y2hlczogbmV3IFNldCgpXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBtb250aGx5RGF0YS5nZXQobW9udGhLZXkpLnJhdGluZ3MucHVzaChyYXRpbmcucmF0aW5nKVxuICAgIG1vbnRobHlEYXRhLmdldChtb250aEtleSkubWF0Y2hlcy5hZGQocmF0aW5nLm1hdGNoLmlkKVxuICB9KVxuXG4gIHJldHVybiBBcnJheS5mcm9tKG1vbnRobHlEYXRhLmVudHJpZXMoKSlcbiAgICAubWFwKChbbW9udGgsIGRhdGFdKSA9PiAoe1xuICAgICAgbW9udGgsXG4gICAgICBhdmdSYXRpbmc6IE51bWJlcigoZGF0YS5yYXRpbmdzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHI6IG51bWJlcikgPT4gc3VtICsgciwgMCkgLyBkYXRhLnJhdGluZ3MubGVuZ3RoKS50b0ZpeGVkKDIpKSxcbiAgICAgIG1hdGNoQ291bnQ6IGRhdGEubWF0Y2hlcy5zaXplXG4gICAgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGEubW9udGgubG9jYWxlQ29tcGFyZShiLm1vbnRoKSlcbiAgICAuc2xpY2UoLTEyKVxufVxuXG4vLyDwn4aVIEFuYWx5c2VyIGxlcyBzdHlsZXMgdGFjdGlxdWVzXG5mdW5jdGlvbiBjYWxjdWxhdGVUYWN0aWNhbFN0eWxlc0JyZWFrZG93bihjb2FjaGVzOiBDaG9saXNtb0NvYWNoW10pIHtcbiAgcmV0dXJuIHtcbiAgICB0b3RhbENvYWNoZXM6IGNvYWNoZXMubGVuZ3RoLFxuICAgIGV4cGVyaWVuY2VCcmVha2Rvd246IHtcbiAgICAgIHZldGVyYW5zOiBjb2FjaGVzLmZpbHRlcihjID0+IGMudG90YWxNYXRjaGVzID49IDEwKS5sZW5ndGgsXG4gICAgICBleHBlcmllbmNlZDogY29hY2hlcy5maWx0ZXIoYyA9PiBjLnRvdGFsTWF0Y2hlcyA+PSA1ICYmIGMudG90YWxNYXRjaGVzIDwgMTApLmxlbmd0aCxcbiAgICAgIGVtZXJnaW5nOiBjb2FjaGVzLmZpbHRlcihjID0+IGMudG90YWxNYXRjaGVzIDwgNSkubGVuZ3RoXG4gICAgfSxcbiAgICByYXRpbmdCcmVha2Rvd246IHtcbiAgICAgIGVsaXRlOiBjb2FjaGVzLmZpbHRlcihjID0+IGMuYXZnUmF0aW5nID49IDguNSkubGVuZ3RoLFxuICAgICAgZXhjZWxsZW50OiBjb2FjaGVzLmZpbHRlcihjID0+IGMuYXZnUmF0aW5nID49IDggJiYgYy5hdmdSYXRpbmcgPCA4LjUpLmxlbmd0aCxcbiAgICAgIGdvb2Q6IGNvYWNoZXMuZmlsdGVyKGMgPT4gYy5hdmdSYXRpbmcgPj0gNyAmJiBjLmF2Z1JhdGluZyA8IDgpLmxlbmd0aCxcbiAgICAgIGRldmVsb3Bpbmc6IGNvYWNoZXMuZmlsdGVyKGMgPT4gYy5hdmdSYXRpbmcgPCA3KS5sZW5ndGhcbiAgICB9LFxuICAgIG11bHRpQ2x1YkNvYWNoZXM6IGNvYWNoZXMuZmlsdGVyKGMgPT4gYy50ZWFtcy5sZW5ndGggPiAxKS5sZW5ndGhcbiAgfVxufSJdLCJuYW1lcyI6WyJwcmlzbWEiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic3BvcnQiLCJtaW5NYXRjaGVzIiwibGltaXQiLCJwZXJpb2QiLCJxdWVyeSIsImNvbnNvbGUiLCJsb2ciLCJzcG9ydEZpbHRlciIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJkYXRlRmlsdGVyIiwibm93IiwiRGF0ZSIsInllYXJBZ28iLCJzZXRGdWxsWWVhciIsImdldEZ1bGxZZWFyIiwiY3JlYXRlZEF0IiwiZ3RlIiwic2Vhc29uU3RhcnQiLCJzZXRNb250aCIsImdldE1vbnRoIiwic2l4TW9udGhzQWdvIiwiY29hY2hlc1dpdGhSYXRpbmdzIiwicGxheWVyIiwiZmluZE1hbnkiLCJ3aGVyZSIsInBvc2l0aW9uIiwicmF0aW5ncyIsInNvbWUiLCJpbmNsdWRlIiwibWF0Y2giLCJzZWxlY3QiLCJpZCIsImhvbWVUZWFtIiwiYXdheVRlYW0iLCJkYXRlIiwiY29tcGV0aXRpb24iLCJob21lU2NvcmUiLCJhd2F5U2NvcmUiLCJ1c2VyIiwibmFtZSIsIm9yZGVyQnkiLCJsZW5ndGgiLCJmdXNlZENvYWNoZXMiLCJNYXAiLCJjb2FjaCIsIm5vcm1hbGl6ZWROYW1lIiwibm9ybWFsaXplQ29hY2hOYW1lIiwiaGFzIiwiZXhpc3RpbmdDb2FjaCIsImdldCIsInB1c2giLCJ0ZWFtcyIsImFkZCIsInRlYW0iLCJzZXQiLCJvcmlnaW5hbElkIiwiU2V0Iiwic2l6ZSIsImNob2xpc21vQ2FuZGlkYXRlcyIsImZ1c2VkQ29hY2giLCJlbnRyaWVzIiwicGFyc2VJbnQiLCJhdmdSYXRpbmciLCJyZWR1Y2UiLCJzdW0iLCJyIiwicmF0aW5nIiwiYmVzdFJhdGluZyIsImJlc3QiLCJjdXJyZW50IiwidW5pcXVlTWF0Y2hlcyIsImZvckVhY2giLCJtYXRjaElkIiwidG90YWxNYXRjaGVzIiwicmVjZW50TWF0Y2hlcyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJzbGljZSIsIm1hcCIsIm1hdGNoRGF0YSIsIm1hdGNoQXZnUmF0aW5nIiwiYmVzdENvbW1lbnQiLCJmaW5kIiwiY29tbWVudCIsImNvYWNoVGVhbSIsImdldENvYWNoVGVhbUZvck1hdGNoIiwiTnVtYmVyIiwidG9GaXhlZCIsInJhdGluZ0hpc3RvcnkiLCJjYWxjdWxhdGVNb250aGx5SGlzdG9yeSIsInRlYW1CcmVha2Rvd24iLCJjYWxjdWxhdGVUZWFtQnJlYWtkb3duIiwidGFjdGljYWxJbnNpZ2h0cyIsImNhbGN1bGF0ZVRhY3RpY2FsSW5zaWdodHMiLCJiZXN0TWF0Y2hUZWFtIiwidG90YWxSYXRpbmdzIiwiYmVzdE1hdGNoIiwiYVNjb3JlIiwiTWF0aCIsImJTY29yZSIsImFicyIsInRvcENvYWNoZXMiLCJnbG9iYWxTdGF0cyIsInRvdGFsQ29hY2hlcyIsImMiLCJhdmdSYXRpbmdHbG9iYWwiLCJ0b3BSYXRpbmciLCJ0YWN0aWNhbFN0eWxlc0JyZWFrZG93biIsImNhbGN1bGF0ZVRhY3RpY2FsU3R5bGVzQnJlYWtkb3duIiwiZnVzaW9uU3RhdHMiLCJvcmlnaW5hbENvYWNoZXMiLCJmdXNpb25SZWR1Y3Rpb24iLCJqb2luIiwic3VjY2VzcyIsImNob2xpc21vIiwic3RhdHMiLCJmaWx0ZXJzIiwiZGV0YWlscyIsIkVycm9yIiwibWVzc2FnZSIsIm5vcm1hbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJub3JtYWxpemUiLCJyZXBsYWNlIiwiY29hY2hNYXBwaW5ncyIsImNvYWNoVGVhbXMiLCJ0ZWFtTG93ZXIiLCJpbmNsdWRlcyIsInNwbGl0IiwidGVhbVN0YXRzIiwid2lucyIsInRvdGFsIiwibWF0Y2hSYXRpbmdzIiwiYXZnTWF0Y2hSYXRpbmciLCJub3JtYWxpemVkVGVhbSIsInQiLCJzdHJvbmdlc3RUZWFtIiwiYmVzdEF2ZyIsImF2ZyIsImNvbXBldGl0aW9uU3RhdHMiLCJjb21wIiwibWF0Y2hlcyIsImF2ZXJhZ2VCeUNvbXBldGl0aW9uIiwiZGF0YSIsIm1hdGNoQ291bnQiLCJ0b3RhbEdvb2RNYXRjaGVzIiwiZmlsdGVyIiwid2luUmF0ZSIsInJhdGluZ0NvdW50IiwibW9udGhseURhdGEiLCJtb250aEtleSIsInBhZFN0YXJ0IiwibW9udGgiLCJsb2NhbGVDb21wYXJlIiwiY29hY2hlcyIsImV4cGVyaWVuY2VCcmVha2Rvd24iLCJ2ZXRlcmFucyIsImV4cGVyaWVuY2VkIiwiZW1lcmdpbmciLCJyYXRpbmdCcmVha2Rvd24iLCJlbGl0ZSIsImV4Y2VsbGVudCIsImdvb2QiLCJkZXZlbG9waW5nIiwibXVsdGlDbHViQ29hY2hlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/cholismo.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcholismo&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcholismo.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();